<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-dexterous-manipulation/quiz" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Chapter 09 Quiz: Dexterous Manipulation | Embodied AI: The Future of Robotics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://muhammadwaqasrafiq.github.io/HumanoidRoboticsBook/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://muhammadwaqasrafiq.github.io/HumanoidRoboticsBook/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://muhammadwaqasrafiq.github.io/HumanoidRoboticsBook/docs/dexterous-manipulation/quiz"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Chapter 09 Quiz: Dexterous Manipulation | Embodied AI: The Future of Robotics"><meta data-rh="true" name="description" content="Test your understanding of grasp planning, inverse kinematics, force control, and manipulation pipelines"><meta data-rh="true" property="og:description" content="Test your understanding of grasp planning, inverse kinematics, force control, and manipulation pipelines"><link data-rh="true" rel="icon" href="/HumanoidRoboticsBook/img/new_logo.svg"><link data-rh="true" rel="canonical" href="https://muhammadwaqasrafiq.github.io/HumanoidRoboticsBook/docs/dexterous-manipulation/quiz"><link data-rh="true" rel="alternate" href="https://muhammadwaqasrafiq.github.io/HumanoidRoboticsBook/docs/dexterous-manipulation/quiz" hreflang="en"><link data-rh="true" rel="alternate" href="https://muhammadwaqasrafiq.github.io/HumanoidRoboticsBook/docs/dexterous-manipulation/quiz" hreflang="x-default"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"><link rel="stylesheet" href="/HumanoidRoboticsBook/assets/css/styles.a6d7e190.css">
<script src="/HumanoidRoboticsBook/assets/js/runtime~main.803ab506.js" defer="defer"></script>
<script src="/HumanoidRoboticsBook/assets/js/main.a5cf34ea.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/HumanoidRoboticsBook/"><div class="navbar__logo"><img src="/HumanoidRoboticsBook/img/new_logo.svg" alt="Embodied AI Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/HumanoidRoboticsBook/img/new_logo.svg" alt="Embodied AI Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Embodied AI</b></a><a class="navbar__item navbar__link" href="/HumanoidRoboticsBook/docs/intro">Book</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/MuhammadWaqasrafiq/HumanoidRoboticsBook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Chapter 09 Quiz: Dexterous Manipulation</h1></header>
<p>Test your knowledge of grasp planning, inverse kinematics, impedance control, and multi-fingered manipulation.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="question-1-ferrari-canny-grasp-quality">Question 1: Ferrari-Canny Grasp Quality<a href="#question-1-ferrari-canny-grasp-quality" class="hash-link" aria-label="Direct link to Question 1: Ferrari-Canny Grasp Quality" title="Direct link to Question 1: Ferrari-Canny Grasp Quality" translate="no">​</a></h2>
<p><strong>You&#x27;re evaluating two antipodal grasps for a cylindrical object (radius 0.04m, mass 0.5kg):</strong></p>
<p><strong>Grasp A:</strong></p>
<ul>
<li class="">Contact points: p1=(0.04, 0, 0), p2=(-0.04, 0, 0)</li>
<li class="">Normals: n1=(1, 0, 0), n2=(-1, 0, 0) (perfectly opposing)</li>
<li class="">Grasp width: 0.08m (gripper fully open)</li>
<li class="">Friction coefficient: μ=0.7</li>
</ul>
<p><strong>Grasp B:</strong></p>
<ul>
<li class="">Contact points: p1=(0.028, 0.028, 0), p2=(-0.028, -0.028, 0)</li>
<li class="">Normals: n1=(0.707, 0.707, 0), n2=(-0.707, -0.707, 0) (opposing)</li>
<li class="">Grasp width: 0.056m (70% open)</li>
<li class="">Friction coefficient: μ=0.7</li>
</ul>
<p><strong>Which grasp has higher Ferrari-Canny quality and why?</strong></p>
<p>A) Grasp A - perfect normal alignment ensures maximum force closure</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>B) Grasp B - narrower width and similar alignment provide better stability ✅</summary><div><div class="collapsibleContent_i85q"><p><strong>Correct! Grasp B has higher quality despite slightly worse alignment.</strong></p><p><strong>Ferrari-Canny Quality Breakdown:</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ferrari_canny_quality</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">grasp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Component 1: Normal alignment (both ~0.99 for A, ~0.98 for B)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    alignment_A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Perfect opposing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    alignment_B </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.98</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 45° offset but still opposing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Component 2: Width utilization (prefer narrower grasps)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    width_quality_A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.08</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.08</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Fully open = unstable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    width_quality_B </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.056</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.08</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 30% margin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Component 3: Wrench space coverage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Grasp B has slightly better tangential force capacity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Weighted quality</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    quality_A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5</span><span class="token operator" style="color:#393A34">*</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token operator" style="color:#393A34">*</span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.2</span><span class="token operator" style="color:#393A34">*</span><span class="token number" style="color:#36acaa">0.5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.60</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    quality_B </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5</span><span class="token operator" style="color:#393A34">*</span><span class="token number" style="color:#36acaa">0.98</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token operator" style="color:#393A34">*</span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.2</span><span class="token operator" style="color:#393A34">*</span><span class="token number" style="color:#36acaa">0.6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.70</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> quality_B </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> quality_A</span><br></span></code></pre></div></div><p><strong>Key Insight:</strong> Width utilization is critical - grasps near maximum gripper width are vulnerable to:</p><ul>
<li class="">Object shifting under external forces</li>
<li class="">Limited force margin (can&#x27;t squeeze tighter)</li>
<li class="">Higher slip probability</li>
</ul><p><strong>Best Practice:</strong> Target 60-80% of max gripper width for robustness.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>C) Equal quality - both achieve force closure</summary><div><div class="collapsibleContent_i85q"><p><strong>Incorrect.</strong> While both grasps achieve force closure (can resist arbitrary wrenches), Ferrari-Canny quality also considers:</p><ul>
<li class=""><strong>Wrench space volume</strong>: Larger convex hull = more robust</li>
<li class=""><strong>Distance to singularity</strong>: How close to losing force closure</li>
<li class=""><strong>Width margin</strong>: Safety factor against disturbances</li>
</ul><p>Grasp A uses 100% of gripper capacity with no margin, making it less robust despite perfect alignment.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>D) Insufficient information - need friction cone analysis</summary><div><div class="collapsibleContent_i85q"><p><strong>Partially correct thinking</strong> - friction cone does matter, but the question provides friction coefficient (μ=0.7).</p><p>With μ=0.7, friction cone half-angle = arctan(0.7) ≈ 35°, which is sufficient for both grasps. The quality difference comes from width utilization, not friction constraints.</p></div></div></details>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="question-2-ik-solver-convergence-failure">Question 2: IK Solver Convergence Failure<a href="#question-2-ik-solver-convergence-failure" class="hash-link" aria-label="Direct link to Question 2: IK Solver Convergence Failure" title="Direct link to Question 2: IK Solver Convergence Failure" translate="no">​</a></h2>
<p><strong>Your numerical IK solver (damped least squares, λ=0.05) fails to converge for a reachable target:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">6m</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">2m</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> z</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">4m </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">verified reachable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Initial guess</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> q_init </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Home position</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Result</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Converged to x</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">58m</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">19m</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> z</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">39m </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">20mm error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> after </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> iterations</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s the most likely cause and solution?</strong></p>
<p>A) Target is actually unreachable - increase joint limits</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>B) Poor initial guess led to local minimum - try multiple random seeds ✅</summary><div><div class="collapsibleContent_i85q"><p><strong>Correct! Classic local minimum problem in numerical IK.</strong></p><p><strong>Diagnosis:</strong></p><p>The solver converged (error stopped decreasing) but to the wrong solution. This indicates:</p><ol>
<li class=""><strong>Jacobian rank deficiency</strong> at the converged configuration (near singularity)</li>
<li class=""><strong>Null space trap</strong> - redundant arm &quot;stuck&quot; in poor posture</li>
<li class=""><strong>Local minimum</strong> of error function</li>
</ol><p><strong>Solution: Multi-Start IK</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">robust_ik</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> robot</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n_attempts</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Solve IK with multiple random initial guesses.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Returns best solution among all attempts.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    best_q </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    best_error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;inf&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> attempt </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n_attempts</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Random initial guess within joint limits</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        q_init </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">uniform</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            robot</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">q_min</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            robot</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">q_max</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Attempt IK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        q_solution</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> success</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> damped_ls_ik</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q_init</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            max_iter</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lambda_damp</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.05</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Track best solution</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;final_error&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">lt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> best_error</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            best_error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;final_error&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            best_q </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> q_solution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Early exit if converged</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;final_error&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">lt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1e-4</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 0.1mm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> q_solution</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Return best effort</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> best_q</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">best_error </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">lt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1e-3</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div><p><strong>Why This Happens:</strong></p><p>Home position [0, 0, 0, ...] often places the arm in a <strong>singular configuration</strong> (e.g., elbow fully extended, shoulder at 0°). The Jacobian has reduced rank, causing:</p><ul>
<li class="">Large joint motions for small Cartesian steps</li>
<li class="">Damping term dominates, slowing convergence</li>
<li class="">Local minimum away from true solution</li>
</ul><p><strong>Alternative Fixes:</strong></p><ol>
<li class=""><strong>Better initial guess</strong>: Use current joint state instead of home</li>
<li class=""><strong>Lower damping</strong>: λ=0.01 for targets far from singularities</li>
<li class=""><strong>Optimization-based IK</strong>: CasADi/IPOPT handles local minima better</li>
<li class=""><strong>TRAC-IK</strong>: Runs numerical + optimization in parallel, returns best</li>
</ol><p><strong>Production Recommendation:</strong> Use TRAC-IK with 3-5 attempts, 50ms timeout.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>C) Damping too high (λ=0.05) - reduce to λ=0.01</summary><div><div class="collapsibleContent_i85q"><p><strong>Partially correct</strong> - high damping does slow convergence, but it&#x27;s not the root cause of 20mm error.</p><p>Reducing λ would help convergence speed but won&#x27;t escape the local minimum. The solver would still get stuck near the same point, just slightly faster.</p><p><strong>When to reduce damping:</strong></p><ul>
<li class="">Targets far from singularities</li>
<li class="">Fast convergence required (&lt;10 iterations)</li>
</ul><p><strong>When to increase damping:</strong></p><ul>
<li class="">Near singularities (Jacobian rank &lt; 6)</li>
<li class="">Noisy measurements</li>
<li class="">Redundant arms (7+ DOF)</li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>D) Increase max iterations to 500</summary><div><div class="collapsibleContent_i85q"><p><strong>Incorrect</strong> - the error plateaued, not the iteration count.</p><p>More iterations won&#x27;t help if the solver is stuck in a local minimum. You&#x27;d just waste computation (500 iterations × 5ms = 2.5 seconds) without improving the solution.</p><p><strong>When max_iter helps:</strong></p><ul>
<li class="">Slow but steady convergence (error decreasing linearly)</li>
<li class="">High-DOF robots (10+ joints)</li>
<li class="">Tight tolerances (sub-millimeter)</li>
</ul></div></div></details>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="question-3-impedance-control-stiffness-tuning">Question 3: Impedance Control Stiffness Tuning<a href="#question-3-impedance-control-stiffness-tuning" class="hash-link" aria-label="Direct link to Question 3: Impedance Control Stiffness Tuning" title="Direct link to Question 3: Impedance Control Stiffness Tuning" translate="no">​</a></h2>
<p><strong>You&#x27;re programming a humanoid to insert a USB cable into a port (2mm clearance). The robot repeatedly breaks the connector due to excessive force.</strong></p>
<p><strong>Current impedance parameters:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">K_position </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> diag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># N/m (stiff)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D_position </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> diag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Ns/m</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">T sensor reading at failure</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">120N</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 15N</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 200N</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Force spike</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s the best stiffness adjustment strategy?</strong></p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>A) Reduce all stiffnesses equally to K=[100, 100, 100] N/m</summary><div><div class="collapsibleContent_i85q"><p><strong>Suboptimal</strong> - you&#x27;d lose precision in the XY plane (parallel to port face) where high stiffness is needed for alignment.</p><p>USB insertion requires:</p><ul>
<li class=""><strong>High XY stiffness</strong> (500-1000 N/m): Maintain lateral alignment</li>
<li class=""><strong>Low Z stiffness</strong> (50-100 N/m): Compliant insertion along axis</li>
</ul><p>Uniformly soft impedance would cause the cable to wander laterally and miss the port.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>B) Use anisotropic stiffness: K_xy=500, K_z=50 (stiff lateral, soft axial) ✅</summary><div><div class="collapsibleContent_i85q"><p><strong>Correct! Anisotropic impedance matches the task constraints.</strong></p><p><strong>Task Analysis: USB Insertion</strong></p><p>The USB port defines a <strong>constrained task space</strong>:</p><ul>
<li class=""><strong>XY plane</strong> (lateral): Position-controlled (must align with port)</li>
<li class=""><strong>Z axis</strong> (insertion): Force-controlled (compliant insertion)</li>
</ul><p><strong>Optimal Impedance:</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Rotation matrix: align Z-axis with insertion direction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">R_task </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> compute_approach_orientation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">usb_port_normal</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Anisotropic stiffness in task frame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">K_task </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">diag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># X: Lateral alignment (stiff)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Y: Lateral alignment (stiff)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># Z: Insertion axis (compliant)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># Rx: Moderate rotational stiffness</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># Ry: Moderate rotational stiffness</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># Rz: Stiffer around insertion axis</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Transform to world frame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">K_world </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> R_task @ K_task @ R_task</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">T</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Impedance controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">compute_control</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x_error</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v_current</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> f_external</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Compliant in Z allows up to 50N force for 1cm error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># F = K·Δx → 50N = 50 N/m · 0.01m ✓</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    f_desired </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> K_world @ x_error </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> D @ v_current</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tau </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> J</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">T @ </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f_desired </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> f_external</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> tau</span><br></span></code></pre></div></div><p><strong>Why This Works:</strong></p><ol>
<li class=""><strong>Lateral stiffness (500 N/m)</strong>: Resists misalignment, maintains 0.5mm accuracy</li>
<li class=""><strong>Axial compliance (50 N/m)</strong>: Allows 10cm motion under 5N force (gentle insertion)</li>
<li class=""><strong>Force limiting</strong>: Even if fully misaligned, max force = K_z · clearance = 50 · 0.002 = 0.1N</li>
</ol><p><strong>Result:</strong> Successful insertion with &lt;5N peak force (vs 200N previously).</p><p><strong>Alternative: Hybrid Control</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Selection matrix: force control in Z only</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">diag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Z-axis force controlled</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">P </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">eye</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> S                </span><span class="token comment" style="color:#999988;font-style:italic"># XY position controlled</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Hybrid controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">u_position </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> K_pos @ </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">P @ x_error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">u_force </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> K_force @ </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">S @ </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f_desired </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> f_measured</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">u_total </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> u_position </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> u_force</span><br></span></code></pre></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>C) Increase damping to D=[200, 200, 200] to slow motion</summary><div><div class="collapsibleContent_i85q"><p><strong>Incorrect</strong> - high damping reduces oscillation but doesn&#x27;t prevent force spikes.</p><p>Damping only affects <strong>velocity-dependent</strong> forces:</p><ul>
<li class="">F_damping = D · v</li>
</ul><p>During insertion, velocity is already low (typically 1-5 cm/s). Increasing D from 50 to 200 Ns/m would only add:</p><ul>
<li class="">ΔF = (200 - 50) · 0.02 m/s = 3N (negligible)</li>
</ul><p>The 200N force spike comes from <strong>position error</strong> (stiffness term), not velocity. You need to reduce K_z, not increase D.</p><p><strong>When to increase damping:</strong></p><ul>
<li class="">Oscillations during free-space motion</li>
<li class="">Contact chatter (stick-slip)</li>
<li class="">High-frequency vibrations</li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>D) Add force threshold safety stop (abort if F &gt; 20N)</summary><div><div class="collapsibleContent_i85q"><p><strong>Safety measure but not a solution</strong> - the task would never complete.</p><p>USB insertion inherently requires contact force (friction, alignment correction). A 20N threshold would trigger constantly, preventing successful insertion.</p><p><strong>Better approach:</strong> Combine compliant control + force monitoring:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Allow higher forces temporarily during insertion</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> task_phase </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;insertion&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    force_limit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> 30N  </span><span class="token comment" style="color:#999988;font-style:italic"># Higher threshold</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> f_measured </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> force_limit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Don&#x27;t abort - switch to force control</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        K_z </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Even softer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    force_limit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> 10N  </span><span class="token comment" style="color:#999988;font-style:italic"># Strict limit for free space</span><br></span></code></pre></div></div></div></div></details>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="question-4-grasp-synergy-for-multi-fingered-hand">Question 4: Grasp Synergy for Multi-Fingered Hand<a href="#question-4-grasp-synergy-for-multi-fingered-hand" class="hash-link" aria-label="Direct link to Question 4: Grasp Synergy for Multi-Fingered Hand" title="Direct link to Question 4: Grasp Synergy for Multi-Fingered Hand" translate="no">​</a></h2>
<p><strong>You&#x27;re programming an Allegro Hand (16 DOF, 4 fingers) to grasp a screwdriver for in-hand rotation. Which synergy combination provides the best manipulation dexterity?</strong></p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>A) 100% Synergy 1 (full flexion) - power grasp</summary><div><div class="collapsibleContent_i85q"><p><strong>Incorrect for in-hand manipulation</strong> - power grasps immobilize the object.</p><p><strong>Synergy 1 (Flexion):</strong> All fingers close uniformly</p><ul>
<li class=""><strong>Use case:</strong> Power grasp (holding heavy/large objects)</li>
<li class=""><strong>Degrees of freedom:</strong> 1 (aperture only)</li>
<li class=""><strong>In-hand manipulation:</strong> Impossible (object locked by all fingers)</li>
</ul><p>For screwdriver rotation, you need <strong>differential finger motion</strong> to apply torque while maintaining grasp.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>B) 70% Synergy 1 + 30% Synergy 2 (precision grasp with thumb-index opposition) ✅</summary><div><div class="collapsibleContent_i85q"><p><strong>Correct! Precision grasp enables in-hand rotation via pivoting.</strong></p><p><strong>Synergy Decomposition:</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Principal grasp synergies (from human hand studies)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">synergy_1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Flexion</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">synergy_2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic"># Precision opposition</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">synergy_3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Lateral</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Precision grasp for screwdriver</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q_grasp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.7</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> synergy_1 </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> synergy_2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Resulting configuration:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - Thumb: Fully opposed to index (S2 component)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - Index: Medium flexion (holds object)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - Middle/Ring: Light contact (S1 only)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - Pinky: Minimal involvement</span><br></span></code></pre></div></div><p><strong>In-Hand Rotation Strategy:</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rotate_screwdriver</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target_angle</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Rotate screwdriver by pivoting around thumb-index grasp.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    1. Thumb + Index: Fixed pivot (precision grasp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    2. Middle + Ring: Apply tangential force</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Phase 1: Establish pivot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    thumb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_position</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">synergy_2</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Opposing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    index</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_position</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">synergy_2</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Opposing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    thumb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_stiffness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># High (fixed)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    index</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_stiffness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># High (fixed)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Phase 2: Apply rotation torque with other fingers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> angle </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linspace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> target_angle</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Compute tangential push direction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        middle_target </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> compute_tangent_position</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">angle</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pivot_point</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        middle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_position</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">middle_target</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        middle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_stiffness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Moderate (compliant push)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.02</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Result: 90° rotation with &amp;lt;3N peak force</span><br></span></code></pre></div></div><p><strong>Why Precision Grasp Works:</strong></p><ol>
<li class=""><strong>Stable pivot:</strong> Thumb-index opposition creates force closure</li>
<li class=""><strong>Free rotation:</strong> Other fingers can move independently</li>
<li class=""><strong>Force control:</strong> Moderate stiffness (200 N/m) allows compliant torque application</li>
<li class=""><strong>Human-like:</strong> Mimics natural precision manipulation</li>
</ol><p><strong>Dexterity Metrics:</strong></p><ul>
<li class=""><strong>Manipulability:</strong> 3/4 fingers available for actuation</li>
<li class=""><strong>Grasp stability:</strong> Force closure maintained during rotation</li>
<li class=""><strong>Control bandwidth:</strong> 10-20 Hz rotation rate achievable</li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>C) 50% Synergy 1 + 50% Synergy 3 (lateral grasp)</summary><div><div class="collapsibleContent_i85q"><p><strong>Suboptimal</strong> - lateral grasp (thumb-pinky) provides poor dexterity for screwdrivers.</p><p><strong>Synergy 3 (Lateral):</strong> Thumb opposes pinky</p><ul>
<li class=""><strong>Use case:</strong> Grasping flat objects (cards, keys)</li>
<li class=""><strong>Screwdriver problem:</strong> Long moment arm → unstable grasp, high torque on pinky (weakest finger)</li>
</ul><p>For cylindrical objects like screwdrivers, thumb-index opposition (S2) provides better alignment with object axis.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>D) Individual finger control (no synergies) for maximum dexterity</summary><div><div class="collapsibleContent_i85q"><p><strong>Theoretically optimal but practically challenging:</strong></p><p><strong>Pros:</strong></p><ul>
<li class="">Maximum control authority (16 independent DOFs)</li>
<li class="">Arbitrary contact configurations</li>
</ul><p><strong>Cons:</strong></p><ul>
<li class=""><strong>High computational cost:</strong> 16D IK + contact planning</li>
<li class=""><strong>Control complexity:</strong> Coordinating 16 joints in real-time (1kHz)</li>
<li class=""><strong>Calibration sensitivity:</strong> Tiny errors amplified across many DOFs</li>
</ul><p><strong>Synergies reduce dimensionality:</strong> 16 DOF → 2-3 synergy weights</p><ul>
<li class="">Easier optimization</li>
<li class="">More robust to calibration errors</li>
<li class="">Still achieves 80-90% of full dexterity</li>
</ul><p><strong>Production recommendation:</strong> Use synergies for grasping, individual control for fine manipulation (if needed).</p></div></div></details>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="question-5-trac-ik-vs-numerical-ik">Question 5: TRAC-IK vs Numerical IK<a href="#question-5-trac-ik-vs-numerical-ik" class="hash-link" aria-label="Direct link to Question 5: TRAC-IK vs Numerical IK" title="Direct link to Question 5: TRAC-IK vs Numerical IK" translate="no">​</a></h2>
<p><strong>You&#x27;re comparing IK solvers for a pick-and-place task (200 picks/hour). Benchmark results:</strong></p>
<table><thead><tr><th>Solver</th><th>Avg Time</th><th>Success Rate</th><th>Failures</th></tr></thead><tbody><tr><td>Damped LS (λ=0.05, 1 seed)</td><td>12ms</td><td>78%</td><td>Local minima</td></tr><tr><td>Damped LS (λ=0.05, 10 seeds)</td><td>95ms</td><td>94%</td><td>Timeout</td></tr><tr><td>TRAC-IK (50ms timeout)</td><td>31ms</td><td>96%</td><td>Rare</td></tr><tr><td>CasADi/IPOPT (100ms timeout)</td><td>78ms</td><td>98%</td><td>Rare</td></tr></tbody></table>
<p><strong>Which solver best balances speed and reliability for production?</strong></p>
<p>A) Damped LS with 1 seed - fastest (12ms)</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>B) TRAC-IK with 50ms timeout - best speed/reliability trade-off ✅</summary><div><div class="collapsibleContent_i85q"><p><strong>Correct! TRAC-IK achieves 96% success in 31ms - optimal for production.</strong></p><p><strong>Decision Analysis:</strong></p><p><strong>Production Requirements:</strong></p><ol>
<li class=""><strong>Cycle time:</strong> 200 picks/hour → 18 seconds/pick → IK budget ~500ms (2.8% of cycle)</li>
<li class=""><strong>Reliability:</strong> &gt;95% success (max 10 failures/hour acceptable)</li>
<li class=""><strong>Real-time:</strong> &lt;100ms response for reactive planning</li>
</ol><p><strong>TRAC-IK Advantages:</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># TRAC-IK runs two solvers in parallel, returns fastest:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 1. KDL numerical IK (fast, 60-80% success)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2. NLOpt optimization (slow, 95-98% success)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">trac_ik_solve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">50ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Spawn parallel solvers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    future_kdl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> async_solve_kdl</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    future_nlopt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> async_solve_nlopt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Return whichever finishes first</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> await_first</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">future_kdl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> future_nlopt</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Typical outcomes:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># - 70% of time: KDL succeeds in 8-15ms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># - 25% of time: NLOpt succeeds in 40-50ms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># - 5% of time: Both fail (timeout)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> result</span><br></span></code></pre></div></div><p><strong>Performance Breakdown:</strong></p><ul>
<li class=""><strong>Fast path (70%):</strong> KDL succeeds → 12ms average</li>
<li class=""><strong>Slow path (26%):</strong> KDL fails, NLOpt succeeds → 50ms</li>
<li class=""><strong>Failure (4%):</strong> Both timeout → 50ms + fallback</li>
</ul><p><strong>Weighted average:</strong> 0.7×12 + 0.26×50 + 0.04×50 = <strong>23ms</strong> (matches benchmark)</p><p><strong>Why Better Than Alternatives:</strong></p><table><thead><tr><th>Solver</th><th>Speed</th><th>Reliability</th><th>Production Risk</th></tr></thead><tbody><tr><td>1-seed DLS</td><td>⭐⭐⭐</td><td>⭐</td><td><strong>22% failure = 44 fails/hour</strong> (unacceptable)</td></tr><tr><td>10-seed DLS</td><td>⭐</td><td>⭐⭐⭐</td><td>95ms too slow for reactive tasks</td></tr><tr><td><strong>TRAC-IK</strong></td><td><strong>⭐⭐</strong></td><td><strong>⭐⭐⭐</strong></td><td><strong>Best balance</strong></td></tr><tr><td>IPOPT</td><td>⭐</td><td>⭐⭐⭐</td><td>78ms acceptable but slower</td></tr></tbody></table><p><strong>Configuration:</strong></p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># moveit2 config/kinematics.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">manipulator</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kinematics_solver</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> trac_ik_kinematics_plugin/TRAC_IKKinematicsPlugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kinematics_solver_timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.05</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 50ms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kinematics_solver_attempts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># TRAC-IK handles retries internally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">position_tolerance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0001</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic"># 0.1mm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">orientation_tolerance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.001</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># ~0.06°</span><br></span></code></pre></div></div><p><strong>Fallback Strategy:</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Production IK pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">robust_ik_solve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Attempt 1: TRAC-IK (fast)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    q</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> success </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> trac_ik</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">solve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">50ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> success</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Attempt 2: Perturb target slightly (compliance)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> dx </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0.002</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.005</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 2mm, 5mm, 10mm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        perturbed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">translate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">random_direction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> dx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        q</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> success </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> trac_ik</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">solve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">perturbed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">50ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> success</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Attempt 3: Relax orientation (if task allows)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    q</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> success </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> trac_ik</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">solve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> position_only</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">100ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> q  </span><span class="token comment" style="color:#999988;font-style:italic"># Best effort</span><br></span></code></pre></div></div><p><strong>Result:</strong> 99.5% effective success rate with graceful degradation.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>C) Damped LS with 10 seeds - highest success (94%)</summary><div><div class="collapsibleContent_i85q"><p><strong>Reliable but too slow</strong> - 95ms violates real-time constraint.</p><p>At 95ms per IK solve:</p><ul>
<li class="">Motion planning requires 5-10 IK calls → 475-950ms</li>
<li class=""><strong>Total cycle:</strong> 1-2 seconds for planning alone</li>
<li class=""><strong>Throughput:</strong> Reduced to ~150 picks/hour (25% slower)</li>
</ul><p><strong>When 10-seed DLS is appropriate:</strong></p><ul>
<li class="">Offline planning (not time-critical)</li>
<li class="">High-accuracy requirements (surgical, assembly)</li>
<li class="">No TRAC-IK available (custom robot)</li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>D) CasADi/IPOPT - highest success (98%)</summary><div><div class="collapsibleContent_i85q"><p><strong>Over-engineered</strong> - 98% vs 96% success doesn&#x27;t justify 2.5× slowdown.</p><p><strong>Diminishing returns:</strong></p><ul>
<li class="">TRAC-IK: 96% success, 31ms → 1.2 failures/pick/hour</li>
<li class="">IPOPT: 98% success, 78ms → 0.4 failures/pick/hour</li>
</ul><p><strong>Marginal gain:</strong> Saving 0.8 failures/hour
<strong>Cost:</strong> 47ms × 200 picks = 2.6 hours lost per day to IK computation</p><p><strong>Use IPOPT when:</strong></p><ul>
<li class="">Extremely tight constraints (collision avoidance)</li>
<li class="">Multi-objective optimization (minimize joint limits + singularities)</li>
<li class="">Complex cost functions (energy minimization)</li>
</ul><p>For simple pick-and-place, TRAC-IK suffices.</p></div></div></details>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="question-6-pick-and-place-failure-recovery">Question 6: Pick-and-Place Failure Recovery<a href="#question-6-pick-and-place-failure-recovery" class="hash-link" aria-label="Direct link to Question 6: Pick-and-Place Failure Recovery" title="Direct link to Question 6: Pick-and-Place Failure Recovery" translate="no">​</a></h2>
<p><strong>Your pick-and-place pipeline fails with the error: &quot;No feasible grasp found&quot; (IK succeeded for 3/10 grasp candidates but all motion plans collided). How do you diagnose and fix this?</strong></p>
<p>A) Increase max planning time from 5s to 30s</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>B) Check collision geometry - likely false positive from conservative padding ✅</summary><div><div class="collapsibleContent_i85q"><p><strong>Correct! IK success + motion planning failure → collision geometry issue.</strong></p><p><strong>Diagnosis Process:</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 1. Visualize grasp candidates and collision scene</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> grasp </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> grasp_candidates</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    q_grasp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ik_solver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">solve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">grasp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pose</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> q_grasp </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># IK succeeded</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Check forward kinematics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        T_ee </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> robot</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_grasp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Visualize in RViz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        publish_robot_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_grasp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        publish_collision_scene</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Attempt motion plan</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        trajectory </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> motion_planner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_current</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q_grasp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> trajectory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">success</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Log collision details</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            collisions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> motion_planner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_collision_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Collisions: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">collisions</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Typical output: [(&quot;gripper_finger&quot;, &quot;table&quot;, distance=-0.005m)]</span><br></span></code></pre></div></div><p><strong>Common Collision Geometry Issues:</strong></p><p><strong>Issue 1: Excessive Padding</strong></p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># moveit2 config/collision_padding.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">robot_description_planning</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">default_padding</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.02</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ❌ Too conservative (2cm)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Fix: Reduce to realistic safety margin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">robot_description_planning</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">default_padding</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.005</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ✅ 5mm (typical)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Fine-tune per link</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">link_padding</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">gripper_finger_left</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.003</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># Fingers: 3mm (precision)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">base_link</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.01</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic"># Base: 10mm (conservative)</span><br></span></code></pre></div></div><p><strong>Issue 2: Overly Simplified Collision Meshes</strong></p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">!-- URDF collision geometry --</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">!-- ❌ Box collision for complex gripper --</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">collision</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">geometry</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">box size=&quot;0.1 0.08 0.05&quot;/</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain">  </span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">!-- Gripper bounding box --</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">/geometry</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">/collision</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">!-- ✅ Refined mesh for accurate collision checking --</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">collision</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">geometry</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">mesh filename=&quot;gripper_collision.stl&quot; scale=&quot;1.0&quot;/</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">/geometry</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token entity named-entity" style="color:#36acaa">&amp;lt;</span><span class="token plain">/collision</span><span class="token entity named-entity" style="color:#36acaa">&amp;gt;</span><br></span></code></pre></div></div><p><strong>Issue 3: Stale Collision Scene</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Object moved but collision scene not updated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">update_collision_scene</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">object_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> new_pose</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Remove old object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    planning_scene</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">remove_object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">object_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Add at new pose</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    planning_scene</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_box</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">object_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pose</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">new_pose</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        size</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.05</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.05</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Publish update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    planning_scene_pub</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publish</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">planning_scene</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_msg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div><p><strong>Fix Strategy:</strong></p><ol>
<li class=""><strong>Visualize collisions</strong> in RViz (enable collision markers)</li>
<li class=""><strong>Measure actual clearances</strong> with physical robot</li>
<li class=""><strong>Reduce padding</strong> to 3-5mm (from default 2cm)</li>
<li class=""><strong>Update collision meshes</strong> from CAD (use convex decomposition)</li>
<li class=""><strong>Test grasp approach</strong> with reduced planning bounds</li>
</ol><p><strong>Result:</strong> Motion planning success increases from 0/10 to 8/10 grasps.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>C) Generate more grasp candidates (increase from 10 to 100)</summary><div><div class="collapsibleContent_i85q"><p><strong>Wasteful</strong> - if 3/10 grasps have feasible IK but 0/10 motion plans succeed, the problem isn&#x27;t grasp diversity.</p><p>Generating 100 grasps would:</p><ul>
<li class="">✅ Find more IK-feasible grasps (maybe 30/100)</li>
<li class="">❌ Still have 0/100 motion plans succeed (collision issue persists)</li>
<li class="">⏱️ Waste computation (grasp planning: 10× slower)</li>
</ul><p><strong>When to increase grasp candidates:</strong></p><ul>
<li class="">IK success rate &lt;30% (need more options)</li>
<li class="">Object has complex geometry (many local optima)</li>
<li class="">Multi-modal grasps required (top vs side approaches)</li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>D) Switch to Cartesian path planning (avoid joint-space obstacles)</summary><div><div class="collapsibleContent_i85q"><p><strong>Incorrect understanding</strong> - Cartesian paths still check collisions.</p><p>Cartesian planning computes a straight-line path in task space:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Cartesian path: move gripper in straight line</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">waypoints </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">start_pose</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> grasp_pose</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">trajectory </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> compute_cartesian_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">waypoints</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> step_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ❌ Still fails if any point along path collides</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Collision checking happens at each waypoint</span><br></span></code></pre></div></div><p><strong>When Cartesian paths help:</strong></p><ul>
<li class="">Avoid joint-space detours (faster convergence)</li>
<li class="">Maintain end-effector orientation (pouring task)</li>
<li class="">Predictable motion (human safety)</li>
</ul><p><strong>When they don&#x27;t help:</strong></p><ul>
<li class="">Collision avoidance (same checks apply)</li>
<li class="">Unreachable straight-line path (IK fails mid-trajectory)</li>
</ul></div></div></details>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="question-7-dual-arm-relative-constraint">Question 7: Dual-Arm Relative Constraint<a href="#question-7-dual-arm-relative-constraint" class="hash-link" aria-label="Direct link to Question 7: Dual-Arm Relative Constraint" title="Direct link to Question 7: Dual-Arm Relative Constraint" translate="no">​</a></h2>
<p><strong>A humanoid is carrying a tray with both hands (30cm × 40cm, 2kg). You must maintain tray levelness (&lt;5° tilt) while the torso rotates 45°. How do you formulate the relative constraint?</strong></p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>A) Independent arm control (each hand tracks its corner of tray)</summary><div><div class="collapsibleContent_i85q"><p><strong>Incorrect</strong> - independent control doesn&#x27;t enforce relative pose.</p><p>If left and right arms track separate trajectories:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Left arm: follow left_tray_corner trajectory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Right arm: follow right_tray_corner trajectory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Problem: No coupling between arms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># → Tray can twist, tilt, or compress if trajectories drift</span><br></span></code></pre></div></div><p><strong>Failure modes:</strong></p><ul>
<li class=""><strong>Drift accumulation:</strong> Small tracking errors → tray twist</li>
<li class=""><strong>Singularity desync:</strong> One arm hits singularity, slows down → tray tilts</li>
<li class=""><strong>Force imbalance:</strong> Unequal tracking stiffness → tray compression</li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>B) Fix right hand pose, move only left hand (leader-follower)</summary><div><div class="collapsibleContent_i85q"><p><strong>Suboptimal</strong> - wastes left arm&#x27;s DOFs, poor load sharing.</p><p>Leader-follower assigns roles:</p><ul>
<li class=""><strong>Leader (left):</strong> Free to move</li>
<li class=""><strong>Follower (right):</strong> Slave to leader&#x27;s motion</li>
</ul><p><strong>Problems:</strong></p><ol>
<li class=""><strong>Reduced workspace:</strong> Right arm limits left arm&#x27;s reach</li>
<li class=""><strong>Uneven load:</strong> Right arm bears more weight (static hold)</li>
<li class=""><strong>No redundancy:</strong> Can&#x27;t use null space for obstacle avoidance</li>
</ol><p><strong>Use case:</strong> Asymmetric tasks (one hand holds, other manipulates)</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>C) Relative Jacobian with orientation constraint (maintain T_left_right) ✅</summary><div><div class="collapsibleContent_i85q"><p><strong>Correct! Enforce relative transform as a constraint in dual-arm Jacobian.</strong></p><p><strong>Formulation:</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dual_arm_tray_control</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tray_target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> torso_angle</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Control dual-arm system with relative orientation constraint.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Constraint: T_left_right (tray width vector) remains constant</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    → Maintains tray levelness and distance between hands</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Desired tray pose in world frame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T_world_tray </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> compute_tray_pose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tray_target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> torso_angle</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Compute desired hand poses (tray corners)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T_world_left </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> T_world_tray @ T_tray_leftcorner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T_world_right </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> T_world_tray @ T_tray_rightcorner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Current hand poses</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T_left_current </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> robot</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_left</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;left_hand&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T_right_current </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> robot</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_right</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;right_hand&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Task-space errors (12D: 2 hands × 6D pose)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x_error_left </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pose_error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">T_world_left</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> T_left_current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x_error_right </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pose_error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">T_world_right</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> T_right_current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x_error_task </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">concatenate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">x_error_left</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x_error_right</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Relative constraint: T_left_right should be constant</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T_left_right_desired </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> T_tray_leftcorner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">inverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> @ T_tray_rightcorner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T_left_right_current </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> T_left_current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">inverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> @ T_right_current</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x_error_relative </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pose_error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">T_left_right_desired</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> T_left_right_current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Augmented task: 18D (12D hands + 6D relative constraint)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x_error_augmented </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">concatenate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">x_error_task</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x_error_relative</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Dual-arm Jacobian (12×14 for 7-DOF arms)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    J_left </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> robot</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jacobian</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_left</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;left_hand&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># 6×7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    J_right </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> robot</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jacobian</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q_right</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;right_hand&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 6×7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    J_dual </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">block</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">J_left</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zeros</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zeros</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> J_right</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 12×14</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Relative Jacobian (enforces T_left_right constraint)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># J_rel maps joint velocities to relative pose change</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    J_rel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> compute_relative_jacobian</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">J_left</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> J_right</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 6×14</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Augmented Jacobian (18×14)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    J_augmented </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">vstack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">J_dual</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> J_rel</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Weighted least squares (prioritize relative constraint)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    W </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">diag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">*</span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">*</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 10× weight on relative constraint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dq </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linalg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pinv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">J_augmented</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">T @ W @ J_augmented</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> @ </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">J_augmented</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">T @ W @ x_error_augmented</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> dq</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dq</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Left and right joint velocities</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">compute_relative_jacobian</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">J_left</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> J_right</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Jacobian mapping joint velocities to relative pose change.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Derivation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    T_left_right = T_left^{-1} @ T_right</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    → d/dt(T_left_right) = -Ad(T_left^{-1}) @ J_left + Ad(T_right^{-1}) @ J_right</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Adjoint transformations (6×6)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ad_left_inv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> compute_adjoint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">T_left_current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">inverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ad_right_inv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> compute_adjoint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">T_right_current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">inverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Relative Jacobian (6×14)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    J_rel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hstack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Ad_left_inv @ J_left</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Ad_right_inv @ J_right</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> J_rel</span><br></span></code></pre></div></div><p><strong>Result:</strong></p><ul>
<li class=""><strong>Tray levelness:</strong> Maintained within 2° (vs 15° without constraint)</li>
<li class=""><strong>Load sharing:</strong> Both arms contribute equally</li>
<li class=""><strong>Redundancy:</strong> 14 DOF (2 arms × 7) - 18 constraints = -4 → use damped pseudoinverse</li>
<li class=""><strong>Torso compensation:</strong> Relative constraint automatically adjusts hand poses as torso rotates</li>
</ul><p><strong>Key Insight:</strong> High weight (10×) on relative constraint ensures tray stays level even if individual hand tracking has small errors.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>D) Force control (each hand applies 10N upward force)</summary><div><div class="collapsibleContent_i85q"><p><strong>Incorrect approach</strong> - force control doesn&#x27;t ensure levelness.</p><p>Applying equal upward forces (10N each) would:</p><ul>
<li class="">✅ Support tray weight (2kg × 9.81 ≈ 20N)</li>
<li class="">❌ Not prevent tilt (force vectors could be misaligned)</li>
<li class="">❌ Not maintain distance (hands could drift together/apart)</li>
</ul><p><strong>Counterexample:</strong></p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Left hand: F = [0, 0, 10]N at position [0.15, 0, 1.0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Right hand: F = [0, 0, 10]N at position [-0.15, 0.05, 1.0]  # 5cm Y-offset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">→ Tray supported but tilted 7° (exceeds 5° tolerance)</span><br></span></code></pre></div></div><p><strong>When force control is needed:</strong> Compliant grasping (adapt to tray flexibility), not pose maintenance.</p></div></div></details>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="question-8-adaptive-impedance-for-door-opening">Question 8: Adaptive Impedance for Door Opening<a href="#question-8-adaptive-impedance-for-door-opening" class="hash-link" aria-label="Direct link to Question 8: Adaptive Impedance for Door Opening" title="Direct link to Question 8: Adaptive Impedance for Door Opening" translate="no">​</a></h2>
<p><strong>A humanoid is opening a heavy door (50kg, stiff hinges with 30Nm friction). The impedance controller is configured with K=[300, 300, 300] N/m. The robot fails because the door doesn&#x27;t move (force saturates at gripper limit, 100N). What&#x27;s the best adaptation strategy?</strong></p>
<p>A) Increase stiffness to K=[1000, 1000, 1000] for more force authority</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>B) Switch to admittance control (force → motion instead of motion → force) ✅</summary><div><div class="collapsibleContent_i85q"><p><strong>Correct! Impedance control is unsuitable for interaction with stiff environments.</strong></p><p><strong>Problem Diagnosis:</strong></p><p>Impedance control generates force proportional to position error:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Impedance: F = K · Δx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> x_desired </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 50cm door opening</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Current</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> x_current </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># Door stuck (friction)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Force generated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> K @ </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x_desired </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> x_current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token plain"> · </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">150N</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ❌ Exceeds gripper force limit (100N) → saturation → door doesn&#x27;t budge</span><br></span></code></pre></div></div><p><strong>Why Higher Stiffness Doesn&#x27;t Help:</strong></p><p>Even with K=1000 N/m:</p><ul>
<li class="">F = 1000 × 0.5 = 500N (still saturates at 100N)</li>
<li class="">Robot pushes with max force but door is mechanically stuck (30Nm friction &gt; 100N × gripper_lever_arm)</li>
</ul><p><strong>Solution: Admittance Control</strong></p><p>Admittance inverts the relationship: <strong>Force → Motion</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">AdmittanceController</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> M_desired</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> D_desired</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        Desired mass-damper dynamics for interaction.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        M: Desired inertia (makes robot feel heavy/light)</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        D: Desired damping (smooths motion)</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">M </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> M_desired  </span><span class="token comment" style="color:#999988;font-style:italic"># kg (virtual mass)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">D </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> D_desired  </span><span class="token comment" style="color:#999988;font-style:italic"># Ns/m (virtual damping)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">compute_motion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> f_measured</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x_current</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v_current</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dt</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        Generate motion from measured force.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        Dynamics: M·ẍ + D·ẋ = f_measured</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        → Integrate to get desired position</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Acceleration from force</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f_measured </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">D @ v_current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Integrate to velocity and position</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        v_new </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> v_current </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> dt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x_new </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> x_current </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> v_new </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> dt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Command robot to move to x_new (position control)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> x_new</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v_new</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Door opening with admittance control</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">open_door_admittance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    M </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">diag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Light virtual mass (5kg)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    D </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">diag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Moderate damping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    controller </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> AdmittanceController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">M</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> D</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Apply constant force via impedance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    f_desired </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 50N push (within limits)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> door_angle </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">lt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> target_angle</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Measure reaction force from door</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        f_measured </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ft_sensor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Admittance generates motion from force</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x_cmd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v_cmd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> controller</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">compute_motion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f_measured</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x_current</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v_current</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dt</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Robot follows generated trajectory (compliant motion)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        robot</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">move_to</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x_cmd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Door gradually opens as friction is overcome</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Admittance automatically slows near target (force drops)</span><br></span></code></pre></div></div><p><strong>Why Admittance Works for Doors:</strong></p><ol>
<li class=""><strong>Force limiting:</strong> Apply constant 50N (safe for gripper)</li>
<li class=""><strong>Automatic adaptation:</strong> Motion slows when door resists (high f_measured)</li>
<li class=""><strong>Friction overcome:</strong> Persistent force eventually breaks static friction</li>
<li class=""><strong>Safe interaction:</strong> Virtual mass (5kg) prevents impact forces</li>
</ol><p><strong>Comparison:</strong></p><table><thead><tr><th>Control</th><th>Force Source</th><th>Motion Response</th><th>Door Opening</th></tr></thead><tbody><tr><td><strong>Impedance</strong></td><td>F = K·Δx (position error)</td><td>Fixed target</td><td>❌ Saturates</td></tr><tr><td><strong>Admittance</strong></td><td>F = constant (or trajectory)</td><td>Adapts to force</td><td>✅ Compliant</td></tr></tbody></table><p><strong>Hybrid Approach (Best):</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Phase 1: Admittance for initial opening (overcome friction)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apply_constant_force</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">50N</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> duration</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">5s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Door opens 30°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Phase 2: Impedance for final positioning (precision)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">target_position </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> compute_door_pose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">90</span><span class="token plain">°</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">impedance_control</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target_position</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> K</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Fine positioning</span><br></span></code></pre></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>C) Add integral term (PI control) to accumulate force over time</summary><div><div class="collapsibleContent_i85q"><p><strong>Partially correct</strong> - PI control can overcome friction but risks instability.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># PI impedance control</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">pi_impedance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x_error</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x_error_integral</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dt</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Kp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Proportional gain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ki </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># Integral gain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Accumulate error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x_error_integral </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> x_error </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> dt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Force with integral term</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    F </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Kp </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> x_error </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> Ki </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> x_error_integral</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Problem: Integral wind-up when door stuck</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># → F grows unbounded → gripper damage</span><br></span></code></pre></div></div><p><strong>Issues:</strong></p><ol>
<li class=""><strong>Integral wind-up:</strong> Error accumulates while door stuck → force spikes when door opens</li>
<li class=""><strong>Overshoot:</strong> High integral term → robot slams door open</li>
<li class=""><strong>Instability:</strong> Contact dynamics + integral → oscillations</li>
</ol><p><strong>When to use PI:</strong></p><ul>
<li class="">Steady-state error in free space (gravity compensation)</li>
<li class="">Slow disturbances (thermal drift)</li>
<li class=""><strong>Not</strong> for contact-rich tasks</li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>D) Reduce control frequency from 200Hz to 50Hz (allow more force buildup)</summary><div><div class="collapsibleContent_i85q"><p><strong>Incorrect</strong> - lower frequency worsens performance.</p><p>Control frequency affects:</p><ul>
<li class=""><strong>Stability:</strong> Lower frequency → larger discrete steps → instability</li>
<li class=""><strong>Bandwidth:</strong> 50Hz → max 25Hz tracking (Nyquist) → sluggish response</li>
<li class=""><strong>Force measurement:</strong> F/T sensor sampled at 1kHz → downsampled to 50Hz → noisy</li>
</ul><p><strong>Door opening needs:</strong></p><ul>
<li class="">High frequency (200-1000Hz) for stable contact</li>
<li class="">Fast force feedback for adaptive motion</li>
</ul><p>Reducing frequency would make the robot <strong>less</strong> responsive to door friction, not more.</p></div></div></details>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="question-9-object-slip-detection">Question 9: Object Slip Detection<a href="#question-9-object-slip-detection" class="hash-link" aria-label="Direct link to Question 9: Object Slip Detection" title="Direct link to Question 9: Object Slip Detection" translate="no">​</a></h2>
<p><strong>During a pick-and-place task, the gripper loses grasp of a bottle mid-transport (slips out). You have a 6-axis F/T sensor at the wrist (1kHz sampling). How do you detect slip early enough to recover?</strong></p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>A) Monitor force magnitude - abort if F &lt; 5N (object fell)</summary><div><div class="collapsibleContent_i85q"><p><strong>Too late</strong> - object already fell by the time force drops.</p><p>Force magnitude drops <strong>after</strong> slip is complete:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">t=0s: Grasp established, F=20N (holding force)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t=1s: Object starts slipping (friction reduces)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t=1.2s: Object still in contact, F=15N (partial slip)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t=1.5s: Object fell, F=2N (gripper empty) ← Detected here (too late)</span><br></span></code></pre></div></div><p><strong>Recovery window missed:</strong> Object hits ground before detection.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>B) Detect high-frequency vibrations in force signal (slip-induced oscillations) ✅</summary><div><div class="collapsibleContent_i85q"><p><strong>Correct! Slip causes characteristic vibrations (100-300Hz) before loss of grasp.</strong></p><p><strong>Slip Physics:</strong></p><p>Slip occurs when friction transitions from <strong>static</strong> to <strong>kinetic</strong>:</p><ul>
<li class=""><strong>Static friction:</strong> Object stuck to gripper, no relative motion</li>
<li class=""><strong>Kinetic friction:</strong> Object sliding, generates stick-slip vibrations</li>
</ul><p><strong>Vibration Signature:</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Slip detection via high-frequency analysis</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">SlipDetector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ft_sensor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sampling_rate</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ft_sensor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ft_sensor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sampling_rate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Slip frequency range (empirically determined)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">slip_freq_low </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># Hz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">slip_freq_high </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Hz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Bandpass filter for slip band</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> butter_bandpass</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">slip_freq_low</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">slip_freq_high</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Vibration threshold (calibrated per object)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">vibration_threshold </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># N RMS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">detect_slip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> force_window</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        Detect slip from force signal window (100ms = 100 samples).</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        Returns: (is_slipping, vibration_magnitude)</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Extract tangential force (perpendicular to grasp axis)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        f_tangential </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> force_window</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Fx, Fy (assuming Fz is grasp axis)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Apply bandpass filter (100-300 Hz)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        f_filtered </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f_tangential</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Compute RMS vibration magnitude</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        vibration_rms </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sqrt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f_filtered</span><span class="token operator" style="color:#393A34">**</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Threshold detection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        is_slipping </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vibration_rms </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">vibration_threshold</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> is_slipping</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> vibration_rms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Real-time slip monitoring</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grasp_with_slip_recovery</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    force_buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> deque</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">maxlen</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 100ms window at 1kHz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> transporting_object</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Read force at 1kHz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        f_current </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ft_sensor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        force_buffer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f_current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Detect slip every 10ms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">force_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            is_slipping</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> vibration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> slip_detector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">detect_slip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">force_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> is_slipping</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic"># ✅ Detected slip 200-500ms before object falls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Slip detected! Vibration: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">vibration</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.2f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">N RMS&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic"># Recovery action: Increase grip force</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                gripper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">increase_force</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delta</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">10N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic"># Slow down motion (reduce acceleration-induced slip)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                trajectory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scale_velocity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic"># Re-check after 100ms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> slip_detector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">detect_slip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">force_buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Slip recovered, continuing task&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Slip persistent, aborting to safe place pose&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    move_to_safe_zone</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    place_object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div><p><strong>Frequency Analysis:</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># FFT of force signal during slip</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">analyze_slip_spectrum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">force_signal</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fs</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Compute FFT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fft_result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fft</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rfft</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">force_signal</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    freqs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fft</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rfftfreq</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">force_signal</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">fs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    magnitude </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">abs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fft_result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Plot spectrum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">freqs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> magnitude</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Frequency (Hz)&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Magnitude (N)&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Typical slip spectrum:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># - DC component: ~10N (mean grasp force)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># - 10-50 Hz: Robot motion/vibration (~0.5N)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># - 100-300 Hz: Slip vibrations (~2N peak) ← Distinctive signature</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># - &amp;gt;500 Hz: Sensor noise (~0.1N)</span><br></span></code></pre></div></div><p><strong>Why This Works:</strong></p><ol>
<li class=""><strong>Early detection:</strong> Vibrations start 200-500ms before complete slip</li>
<li class=""><strong>Robust:</strong> Less sensitive to slow force drift (temperature, fatigue)</li>
<li class=""><strong>Object-agnostic:</strong> Slip frequency range consistent across materials</li>
</ol><p><strong>Calibration:</strong></p><p>Different objects/grippers have different slip characteristics:</p><ul>
<li class=""><strong>Smooth surfaces</strong> (glass, metal): Higher frequency (200-400 Hz)</li>
<li class=""><strong>Textured surfaces</strong> (rubber, fabric): Lower frequency (50-150 Hz)</li>
</ul><p>Calibrate threshold by:</p><ol>
<li class="">Induce controlled slip (reduce grip force gradually)</li>
<li class="">Record force signal during slip</li>
<li class="">Compute RMS in slip frequency band</li>
<li class="">Set threshold at 2× baseline vibration</li>
</ol></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>C) Monitor force derivative - detect sudden force drop (dF/dt &lt; -10 N/s)</summary><div><div class="collapsibleContent_i85q"><p><strong>Unreliable</strong> - force derivative is noisy and slip onset is gradual.</p><p>Force derivative issues:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Numerical derivative of noisy force signal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dF_dt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">diff</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">force_signal</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> dt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Problems:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 1. Sensor noise (±0.1N at 1kHz) → dF/dt = ±100 N/s (false positives)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2. Robot motion causes force transients (acceleration → ±50 N/s)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 3. Slip onset is gradual (dF/dt = -2 N/s), not sudden</span><br></span></code></pre></div></div><p><strong>When derivative helps:</strong></p><ul>
<li class="">Impact detection (sudden force spike, dF/dt &gt; 100 N/s)</li>
<li class="">Fast collision events (&lt;10ms duration)</li>
</ul><p>For slip (gradual process), frequency analysis is superior.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>D) Use tactile sensors on gripper fingers (detect relative motion)</summary><div><div class="collapsibleContent_i85q"><p><strong>Ideal but requires additional hardware</strong> - tactile arrays directly measure slip.</p><p><strong>BioTac/SynTouch sensors:</strong></p><ul>
<li class="">Measure contact geometry, force distribution, vibration</li>
<li class="">Direct slip detection via relative motion sensing</li>
<li class="">High cost ($2k-5k per finger)</li>
</ul><p><strong>Production trade-off:</strong></p><table><thead><tr><th>Method</th><th>Hardware</th><th>Latency</th><th>Accuracy</th><th>Cost</th></tr></thead><tbody><tr><td><strong>F/T sensor + vibration</strong></td><td>Standard (included)</td><td>10-50ms</td><td>90-95%</td><td>$0</td></tr><tr><td><strong>Tactile sensors</strong></td><td>Additional</td><td>5-10ms</td><td>98%+</td><td>$5k-10k</td></tr></tbody></table><p><strong>Recommendation:</strong> Start with F/T vibration detection; add tactile only for high-value applications (surgery, delicate assembly).</p></div></div></details>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="question-10-in-hand-manipulation-energy-efficiency">Question 10: In-Hand Manipulation Energy Efficiency<a href="#question-10-in-hand-manipulation-energy-efficiency" class="hash-link" aria-label="Direct link to Question 10: In-Hand Manipulation Energy Efficiency" title="Direct link to Question 10: In-Hand Manipulation Energy Efficiency" translate="no">​</a></h2>
<p><strong>You&#x27;re comparing two strategies for rotating a screwdriver 90° in-hand with an Allegro Hand (16 DOF, 4 fingers). Which is more energy-efficient and why?</strong></p>
<p><strong>Strategy A: Finger Gaiting</strong></p>
<ul>
<li class="">Release middle + ring fingers</li>
<li class="">Rotate thumb-index pivot 90°</li>
<li class="">Regrasp with middle + ring at new position</li>
<li class="">Time: 2.5s, Motor current: 1.2A average</li>
</ul>
<p><strong>Strategy B: Continuous Rolling</strong></p>
<ul>
<li class="">All fingers remain in contact</li>
<li class="">Coordinated sliding along screwdriver surface</li>
<li class="">Time: 1.8s, Motor current: 1.8A average</li>
</ul>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>A) Strategy A (finger gaiting) - lower average current (1.2A &lt; 1.8A)</summary><div><div class="collapsibleContent_i85q"><p><strong>Incorrect</strong> - energy = power × time, not just current.</p><p><strong>Energy calculation:</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Assume 12V motor supply for Allegro Hand</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Strategy A (Finger Gaiting)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">P_A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> V × I_avg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> 12V × </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">2A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">4W</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E_A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> P × t </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">4W × </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">5s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">36J</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Strategy B (Continuous Rolling)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">P_B </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> V × I_avg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> 12V × </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">8A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">6W</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E_B </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> P × t </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">6W × </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">8s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">38.9J</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✅ Strategy A is slightly more efficient (36J &amp;lt; 38.9J)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># But the difference is marginal (7.5%)</span><br></span></code></pre></div></div><p><strong>However, this ignores:</strong></p><ul>
<li class=""><strong>Regrasping force spikes:</strong> Gaiting requires high force pulses to re-establish grip</li>
<li class=""><strong>Gravity compensation:</strong> Holding screwdriver with 2 fingers (vs 4) requires higher normal force</li>
<li class=""><strong>Computation cost:</strong> Grasp planning + IK for regrasp pose</li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>B) Strategy B (continuous rolling) - faster completion (1.8s &lt; 2.5s) despite higher current ✅</summary><div><div class="collapsibleContent_i85q"><p><strong>Correct (with caveat)! Continuous rolling is more energy-efficient when accounting for all factors.</strong></p><p><strong>Complete Energy Analysis:</strong></p><p><strong>Strategy A (Finger Gaiting):</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Phase 1: Release middle+ring (0.3s)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E_release </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">5A × 12V</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> × </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">3s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.8J</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Low force</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Phase 2: Rotate thumb-index pivot (1.5s)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Higher force needed (only 2 fingers holding)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E_rotate </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">8A × 12V</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> × </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">5s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32.4J</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># High current</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Phase 3: Regrasp middle+ring (0.5s)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Force spike to establish contact</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E_regrasp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">5A × 12V</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> × </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">5s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15J</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Peak current</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Phase 4: Stabilize (0.2s)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E_stabilize </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">0A × 12V</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> × </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">2s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.4J</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Total</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E_A_total </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32.4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">51.6J</span><br></span></code></pre></div></div><p><strong>Strategy B (Continuous Rolling):</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># All fingers in contact → load distributed → lower normal force per finger</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Phase 1: Establish rolling contact (0.2s)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E_setup </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">5A × 12V</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> × </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">2s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3.6J</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Phase 2: Coordinated rolling (1.6s)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Constant moderate force (friction + object weight)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E_rolling </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">8A × 12V</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> × </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">6s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">34.6J</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Total</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E_B_total </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3.6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">34.6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">38.2J</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✅ Strategy B: 38.2J (26% less energy than Strategy A)</span><br></span></code></pre></div></div><p><strong>Why Continuous Rolling is More Efficient:</strong></p><ol>
<li class="">
<p><strong>Load distribution:</strong> 4 fingers share object weight → lower normal force per finger</p>
<ul>
<li class="">Gaiting: F_normal = (0.5kg × 9.8) / 2 fingers = 2.45N per finger</li>
<li class="">Rolling: F_normal = (0.5kg  × 9.8) / 4 fingers = 1.23N per finger</li>
</ul>
</li>
<li class="">
<p><strong>No regrasping spikes:</strong> Avoiding peak force reduces energy</p>
<ul>
<li class="">Gaiting: 2.5A peak current for 0.5s</li>
<li class="">Rolling: Smooth 1.8A throughout</li>
</ul>
</li>
<li class="">
<p><strong>Friction mechanics:</strong> Sliding friction &lt; static friction (rolling reduces &quot;stick&quot;)</p>
<ul>
<li class="">μ_static ≈ 0.7 (gaiting: static grasp)</li>
<li class="">μ_kinetic ≈ 0.5 (rolling: controlled slide)</li>
</ul>
</li>
</ol><p><strong>Trade-offs:</strong></p><table><thead><tr><th>Metric</th><th>Gaiting</th><th>Rolling</th></tr></thead><tbody><tr><td><strong>Energy</strong></td><td>51.6J</td><td>38.2J ✅</td></tr><tr><td><strong>Time</strong></td><td>2.5s</td><td>1.8s ✅</td></tr><tr><td><strong>Control complexity</strong></td><td>Simple (2 discrete grasps)</td><td>High (coordinated 16-DOF)</td></tr><tr><td><strong>Robustness</strong></td><td>High (stable discrete grasps)</td><td>Moderate (slip risk)</td></tr><tr><td><strong>Tactile sensing</strong></td><td>Optional</td><td><strong>Required</strong> (detect slip)</td></tr></tbody></table><p><strong>Production Recommendation:</strong></p><ul>
<li class=""><strong>With tactile sensing:</strong> Use continuous rolling (faster, more efficient)</li>
<li class=""><strong>Without tactile sensing:</strong> Use finger gaiting (more robust, acceptable energy cost)</li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>C) Equal efficiency - energy depends only on rotation angle (90°), not strategy</summary><div><div class="collapsibleContent_i85q"><p><strong>Incorrect</strong> - work done on object is same, but motor losses differ.</p><p><strong>Object energy</strong> (conservative force field):</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Work to rotate screwdriver against friction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">W_object </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> τ_friction × θ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.05</span><span class="token plain"> Nm</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> × </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">π</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> rad</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.08J</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✅ This is the same for both strategies</span><br></span></code></pre></div></div><p><strong>Motor energy</strong> (includes losses):</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Motor efficiency ≈ 60-80% (heat, friction, back-EMF)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># E_motor = W_object / η + E_control</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Gaiting: Higher peak forces → lower instantaneous efficiency</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">η_gaiting ≈ </span><span class="token number" style="color:#36acaa">60</span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> → E_motor_A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.08J</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.13J</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mechanical</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">51J</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">control</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">51.13J</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Rolling: Smoother force profile → higher average efficiency</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">η_rolling ≈ </span><span class="token number" style="color:#36acaa">75</span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> → E_motor_B </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.08J</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.75</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.11J</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mechanical</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">38J</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">control</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">38.11J</span><br></span></code></pre></div></div><p><strong>Key insight:</strong> Control energy (holding, regrasping) dominates object work by 500×!</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>D) Depends on friction coefficient - need tactile data to determine</summary><div><div class="collapsibleContent_i85q"><p><strong>Partially correct</strong> - friction does affect energy, but comparative analysis still holds.</p><p><strong>Sensitivity analysis:</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Energy vs friction coefficient</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">compute_energy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mu</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> strategy</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> strategy </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;gaiting&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Normal force higher (2 fingers)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        F_normal </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> object_weight </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        E </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> F_normal </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> mu </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> distance </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> E_regrasping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> strategy </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;rolling&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Normal force lower (4 fingers)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        F_normal </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> object_weight </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        E </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> F_normal </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> mu </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> distance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Results:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># μ=0.3 (low): E_gaiting=48J, E_rolling=35J (rolling 27% better)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># μ=0.7 (med): E_gaiting=52J, E_rolling=38J (rolling 27% better)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># μ=1.2 (high): E_gaiting=58J, E_rolling=43J (rolling 26% better)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✅ Rolling is consistently more efficient across friction range</span><br></span></code></pre></div></div><p><strong>Conclusion:</strong> While friction coefficient affects absolute energy, the <strong>relative advantage</strong> of rolling (26-27%) is robust.</p></div></div></details>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p><strong>Key Concepts Tested:</strong></p>
<ol>
<li class=""><strong>Grasp Quality:</strong> Ferrari-Canny metric balances alignment, width utilization, wrench space</li>
<li class=""><strong>IK Convergence:</strong> Local minima solved by multi-start random seeding</li>
<li class=""><strong>Impedance Control:</strong> Anisotropic stiffness for constrained tasks (USB insertion)</li>
<li class=""><strong>Grasp Synergies:</strong> Precision grasp (S1+S2) enables in-hand manipulation</li>
<li class=""><strong>IK Solver Selection:</strong> TRAC-IK optimal for production (speed + reliability)</li>
<li class=""><strong>Collision Geometry:</strong> False positives from excessive padding (reduce to 3-5mm)</li>
<li class=""><strong>Dual-Arm Coordination:</strong> Relative Jacobian enforces tray levelness</li>
<li class=""><strong>Adaptive Control:</strong> Admittance control for stiff environments (door opening)</li>
<li class=""><strong>Slip Detection:</strong> High-frequency vibration analysis (100-300 Hz)</li>
<li class=""><strong>Energy Efficiency:</strong> Continuous rolling &gt; finger gaiting (load distribution + no regrasping)</li>
</ol>
<p><strong>Production Best Practices:</strong></p>
<ul>
<li class=""><strong>Grasp Planning:</strong> Target 60-80% gripper width for robustness</li>
<li class=""><strong>IK Solving:</strong> TRAC-IK with 50ms timeout, 3 attempts</li>
<li class=""><strong>Impedance Tuning:</strong> Anisotropic stiffness (stiff lateral, soft axial)</li>
<li class=""><strong>Force Control:</strong> 200Hz+ control rate, adaptive stiffness based on contact</li>
<li class=""><strong>Failure Recovery:</strong> Visualize collisions, reduce padding, multi-modal grasps</li>
<li class=""><strong>Slip Prevention:</strong> 1kHz F/T sampling, bandpass filter (100-300 Hz), 10N recovery force</li>
</ul>
<p><strong>Next Chapter:</strong> Chapter 10 - Whole-Body Motion Planning (integrating locomotion + manipulation)</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/MuhammadWaqasrafiq/HumanoidRoboticsBook/tree/main/docs/dexterous-manipulation/quiz.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#question-1-ferrari-canny-grasp-quality" class="table-of-contents__link toc-highlight">Question 1: Ferrari-Canny Grasp Quality</a></li><li><a href="#question-2-ik-solver-convergence-failure" class="table-of-contents__link toc-highlight">Question 2: IK Solver Convergence Failure</a></li><li><a href="#question-3-impedance-control-stiffness-tuning" class="table-of-contents__link toc-highlight">Question 3: Impedance Control Stiffness Tuning</a></li><li><a href="#question-4-grasp-synergy-for-multi-fingered-hand" class="table-of-contents__link toc-highlight">Question 4: Grasp Synergy for Multi-Fingered Hand</a></li><li><a href="#question-5-trac-ik-vs-numerical-ik" class="table-of-contents__link toc-highlight">Question 5: TRAC-IK vs Numerical IK</a></li><li><a href="#question-6-pick-and-place-failure-recovery" class="table-of-contents__link toc-highlight">Question 6: Pick-and-Place Failure Recovery</a></li><li><a href="#question-7-dual-arm-relative-constraint" class="table-of-contents__link toc-highlight">Question 7: Dual-Arm Relative Constraint</a></li><li><a href="#question-8-adaptive-impedance-for-door-opening" class="table-of-contents__link toc-highlight">Question 8: Adaptive Impedance for Door Opening</a></li><li><a href="#question-9-object-slip-detection" class="table-of-contents__link toc-highlight">Question 9: Object Slip Detection</a></li><li><a href="#question-10-in-hand-manipulation-energy-efficiency" class="table-of-contents__link toc-highlight">Question 10: In-Hand Manipulation Energy Efficiency</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/HumanoidRoboticsBook/docs/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/HumanoidRoboticsBook/docs/why-physical-ai">Why Physical AI</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/MuhammadWaqasrafiq/HumanoidRoboticsBook" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Repo<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/MuhammadWaqasrafiq/HumanoidRoboticsBook/tree/main/code-examples" target="_blank" rel="noopener noreferrer" class="footer__link-item">Code Samples<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item">
<div style="display:flex; gap:1.5rem; margin-bottom:1rem;">
  <a href="https://github.com/MuhammadWaqasrafiq/HumanoidRoboticsBook" target="_blank" rel="noopener noreferrer" aria-label="GitHub" style="color:#fff;font-size:1.6rem;">
    <i class="fa-brands fa-github"></i>
  </a>
  <a href="https://linkedin.com/in/MuhammadWaqasrafiq" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" style="color:#fff;font-size:1.6rem;">
    <i class="fa-brands fa-linkedin"></i>
  </a>
  <a href="https://wa.me/923463033195" target="_blank" rel="noopener noreferrer" aria-label="WhatsApp" style="color:#fff;font-size:1.6rem;">
    <i class="fa-brands fa-whatsapp"></i>
  </a>
  <a href="https://www.youtube.com/watch?v=dZTfXiPSZyE" target="_blank" rel="noopener noreferrer" aria-label="YouTube" style="color:#fff;font-size:1.6rem;">
    <i class="fa-brands fa-youtube"></i>
  </a>
</div>
              </li><li class="footer__item"><a href="https://github.com/MuhammadWaqasrafiq/HumanoidRoboticsBook/blob/main/LICENSE" target="_blank" rel="noopener noreferrer" class="footer__link-item">MIT License<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 Embodied AI • Muhammad Waqas Rafiq • MIT & CC-BY-4.0</div></div></div></footer></div>
</body>
</html>