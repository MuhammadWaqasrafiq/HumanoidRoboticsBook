"use strict";(self.webpackChunkphysical_ai_humanoid_robotics_book=self.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[2962],{6244:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"urdf-digital-twins/urdf-basics","title":"Section 1 - URDF Basics","description":"Learn URDF XML structure, links, joints, and coordinate transforms","source":"@site/docs/urdf-digital-twins/urdf-basics.mdx","sourceDirName":"urdf-digital-twins","slug":"/urdf-digital-twins/urdf-basics","permalink":"/HumanoidRoboticsBook/docs/urdf-digital-twins/urdf-basics","draft":false,"unlisted":false,"editUrl":"https://github.com/MuhammadWaqasrafiq/HumanoidRoboticsBook/tree/main/docs/urdf-digital-twins/urdf-basics.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"urdf-basics","title":"Section 1 - URDF Basics","sidebar_position":1,"description":"Learn URDF XML structure, links, joints, and coordinate transforms","keywords":["urdf","xml","links","joints","transforms","robot-description"]}}');var s=i(4848),l=i(8453);const t={id:"urdf-basics",title:"Section 1 - URDF Basics",sidebar_position:1,description:"Learn URDF XML structure, links, joints, and coordinate transforms",keywords:["urdf","xml","links","joints","transforms","robot-description"]},o="Section 1: URDF Basics",a={},d=[{value:"What is URDF?",id:"what-is-urdf",level:2},{value:"Minimal URDF Example",id:"minimal-urdf-example",level:2},{value:"Visualizing This URDF",id:"visualizing-this-urdf",level:3},{value:"URDF Structure: The Big Picture",id:"urdf-structure-the-big-picture",level:2},{value:"Links: Rigid Bodies",id:"links-rigid-bodies",level:2},{value:"Full Link Anatomy",id:"full-link-anatomy",level:3},{value:"Geometry Types",id:"geometry-types",level:3},{value:"1. Box",id:"1-box",level:4},{value:"2. Cylinder",id:"2-cylinder",level:4},{value:"3. Sphere",id:"3-sphere",level:4},{value:"4. Mesh (for complex shapes)",id:"4-mesh-for-complex-shapes",level:4},{value:"5. Capsule (ROS 2 Jazzy and newer)",id:"5-capsule-ros-2-jazzy-and-newer",level:4},{value:"Visual vs Collision Geometry",id:"visual-vs-collision-geometry",level:3},{value:"Materials: Colors and Textures",id:"materials-colors-and-textures",level:2},{value:"Inline Material Definition",id:"inline-material-definition",level:3},{value:"Texture Mapping",id:"texture-mapping",level:3},{value:"Reusing Materials",id:"reusing-materials",level:3},{value:"Joints: Connecting Links",id:"joints-connecting-links",level:2},{value:"Joint Anatomy",id:"joint-anatomy",level:3},{value:"Joint Types",id:"joint-types",level:3},{value:"Understanding <code>&lt;origin&gt;</code> Transform",id:"understanding-origin-transform",level:3},{value:"Understanding <code>&lt;axis&gt;</code>",id:"understanding-axis",level:3},{value:"Building a 2-Link Robot Arm",id:"building-a-2-link-robot-arm",level:2},{value:"Kinematic Chain",id:"kinematic-chain",level:3},{value:"Visualize and Test",id:"visualize-and-test",level:3},{value:"Coordinate Transforms in Depth",id:"coordinate-transforms-in-depth",level:2},{value:"Link Frames",id:"link-frames",level:3},{value:"Example: Computing End-Effector Position",id:"example-computing-end-effector-position",level:3},{value:"Calculating Inertia Tensors",id:"calculating-inertia-tensors",level:2},{value:"Box (width w, depth d, height h, mass m)",id:"box-width-w-depth-d-height-h-mass-m",level:3},{value:"Cylinder (radius r, height h, mass m)",id:"cylinder-radius-r-height-h-mass-m",level:3},{value:"Sphere (radius r, mass m)",id:"sphere-radius-r-mass-m",level:3},{value:"Online Calculator",id:"online-calculator",level:3},{value:"Common URDF Patterns",id:"common-urdf-patterns",level:2},{value:"Pattern 1: Dummy Links for Complex Joints",id:"pattern-1-dummy-links-for-complex-joints",level:3},{value:"Pattern 2: Fixed Sensors",id:"pattern-2-fixed-sensors",level:3},{value:"Pattern 3: Mirrored Limbs",id:"pattern-3-mirrored-limbs",level:3},{value:"Troubleshooting URDF Errors",id:"troubleshooting-urdf-errors",level:2},{value:"Error 1: &quot;Failed to parse URDF file&quot;",id:"error-1-failed-to-parse-urdf-file",level:3},{value:"Error 2: &quot;Joint parent/child link does not exist&quot;",id:"error-2-joint-parentchild-link-does-not-exist",level:3},{value:"Error 3: &quot;Tree structure is broken&quot;",id:"error-3-tree-structure-is-broken",level:3},{value:"Error 4: Robot explodes in simulation",id:"error-4-robot-explodes-in-simulation",level:3},{value:"Validation Workflow",id:"validation-workflow",level:2},{value:"Exercises",id:"exercises",level:2},{value:"Exercise 1: Build a 3-Link Arm",id:"exercise-1-build-a-3-link-arm",level:3},{value:"Exercise 2: Add a Gripper",id:"exercise-2-add-a-gripper",level:3},{value:"Exercise 3: Calculate Inertia",id:"exercise-3-calculate-inertia",level:3},{value:"Summary",id:"summary",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"section-1-urdf-basics",children:"Section 1: URDF Basics"})}),"\n",(0,s.jsx)(n.admonition,{title:"Learning Objectives",type:"info",children:(0,s.jsx)(n.p,{children:"Master the foundational URDF concepts needed to build any robot model. By the end of this section, you'll understand XML structure, links, joints, materials, and coordinate transforms."})}),"\n",(0,s.jsx)(n.h2,{id:"what-is-urdf",children:"What is URDF?"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"URDF (Unified Robot Description Format)"})," is an XML-based file format that describes:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kinematics"}),": How robot parts connect and move"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dynamics"}),": Mass, inertia, friction properties"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visual appearance"}),": Shapes, colors, meshes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Collision geometry"}),": Simplified shapes for physics simulation"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["URDF is the ",(0,s.jsx)(n.strong,{children:"lingua franca"}),' of ROS robotics - it\'s how you tell ROS "this is what my robot looks like and how it moves."']}),"\n",(0,s.jsx)(n.h2,{id:"minimal-urdf-example",children:"Minimal URDF Example"}),"\n",(0,s.jsx)(n.p,{children:"Let's start with the simplest possible robot: a single box floating in space."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="minimal_robot">\n\n  \x3c!-- A single link (rigid body) --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.5 0.3 0.1"/>  \x3c!-- x=0.5m, y=0.3m, z=0.1m --\x3e\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 1"/>  \x3c!-- Red Green Blue Alpha (0-1 range) --\x3e\n      </material>\n    </visual>\n  </link>\n\n</robot>\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key components:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'<?xml version="1.0"?>'})," - Required XML declaration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'<robot name="...">'})," - Root element, contains entire robot"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<link>"})," - Represents a rigid body"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<visual><geometry>"})," - What you see in rviz2"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<material>"})," - Color or texture"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"visualizing-this-urdf",children:"Visualizing This URDF"}),"\n",(0,s.jsxs)(n.p,{children:["Save the above as ",(0,s.jsx)(n.code,{children:"minimal_robot.urdf"}),", then:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Method 1: Use check_urdf to validate\ncheck_urdf minimal_robot.urdf\n\n# Output:\n# robot name is: minimal_robot\n# ---------- Successfully Parsed XML ---------------\n# root Link: base_link has 0 child(ren)\n\n# Method 2: Visualize in rviz2\nros2 launch urdf_tutorial display.launch.py model:=minimal_robot.urdf\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What you'll see:"})," A blue box floating in rviz2. Use your mouse to rotate the view."]}),"\n",(0,s.jsx)(n.h2,{id:"urdf-structure-the-big-picture",children:"URDF Structure: The Big Picture"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph TB\n    A[robot] --\x3e B[link: base_link]\n    A --\x3e C[joint: joint1]\n    A --\x3e D[link: link1]\n    A --\x3e E[joint: joint2]\n    A --\x3e F[link: link2]\n\n    C -.parent.-> B\n    C -.child.-> D\n    E -.parent.-> D\n    E -.child.-> F\n\n    style A fill:#e1f5ff\n    style B fill:#d4edda\n    style D fill:#d4edda\n    style F fill:#d4edda\n    style C fill:#fff3cd\n    style E fill:#fff3cd"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"URDF is a tree structure:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Root"}),": ",(0,s.jsx)(n.code,{children:"<robot>"})," element"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Nodes"}),": ",(0,s.jsx)(n.code,{children:"<link>"})," elements (rigid bodies)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Edges"}),": ",(0,s.jsx)(n.code,{children:"<joint>"})," elements (connections between links)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Important rules:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Every URDF has exactly ",(0,s.jsx)(n.strong,{children:"one root link"})," (no parents)"]}),"\n",(0,s.jsx)(n.li,{children:"All other links are connected via joints"}),"\n",(0,s.jsx)(n.li,{children:"No cycles allowed (it's a tree, not a graph)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"links-rigid-bodies",children:"Links: Rigid Bodies"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"link"})," represents a part of your robot that doesn't bend or deform. Think of links as LEGO bricks."]}),"\n",(0,s.jsx)(n.h3,{id:"full-link-anatomy",children:"Full Link Anatomy"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="torso">\n\n  \x3c!-- Visual geometry (what you see) --\x3e\n  <visual>\n    <origin xyz="0 0 0" rpy="0 0 0"/>  \x3c!-- offset from link frame --\x3e\n    <geometry>\n      <box size="0.3 0.2 0.5"/>  \x3c!-- 30cm \ufffd 20cm \ufffd 50cm --\x3e\n    </geometry>\n    <material name="gray">\n      <color rgba="0.5 0.5 0.5 1"/>\n    </material>\n  </visual>\n\n  \x3c!-- Collision geometry (what simulator uses for physics) --\x3e\n  <collision>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <geometry>\n      <box size="0.3 0.2 0.5"/>  \x3c!-- same as visual for simple cases --\x3e\n    </geometry>\n  </collision>\n\n  \x3c!-- Inertial properties (mass, center of mass, inertia tensor) --\x3e\n  <inertial>\n    <origin xyz="0 0 0" rpy="0 0 0"/>  \x3c!-- center of mass offset --\x3e\n    <mass value="5.0"/>  \x3c!-- kg --\x3e\n    <inertia ixx="0.1" ixy="0.0" ixz="0.0"\n             iyy="0.1" iyz="0.0"\n             izz="0.05"/>\n  </inertial>\n\n</link>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"geometry-types",children:"Geometry Types"}),"\n",(0,s.jsx)(n.p,{children:"URDF supports five geometry primitives:"}),"\n",(0,s.jsx)(n.h4,{id:"1-box",children:"1. Box"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<geometry>\n  <box size="x y z"/>  \x3c!-- meters --\x3e\n</geometry>\n'})}),"\n",(0,s.jsx)(n.h4,{id:"2-cylinder",children:"2. Cylinder"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<geometry>\n  <cylinder radius="0.05" length="0.3"/>  \x3c!-- radius in meters, length along z-axis --\x3e\n</geometry>\n'})}),"\n",(0,s.jsx)(n.h4,{id:"3-sphere",children:"3. Sphere"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<geometry>\n  <sphere radius="0.1"/>  \x3c!-- meters --\x3e\n</geometry>\n'})}),"\n",(0,s.jsx)(n.h4,{id:"4-mesh-for-complex-shapes",children:"4. Mesh (for complex shapes)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<geometry>\n  <mesh filename="package://my_package/meshes/hand.stl" scale="1.0 1.0 1.0"/>\n</geometry>\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Mesh file formats:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:".stl"})," - Common for 3D printing, good for collision"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:".dae"})," (Collada) - Supports colors and textures, good for visual"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:".obj"})," - Wavefront format, widely supported"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"5-capsule-ros-2-jazzy-and-newer",children:"5. Capsule (ROS 2 Jazzy and newer)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<geometry>\n  <capsule radius="0.05" length="0.2"/>  \x3c!-- cylinder with hemisphere endcaps --\x3e\n</geometry>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"visual-vs-collision-geometry",children:"Visual vs Collision Geometry"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Why separate visual and collision?"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Aspect"}),(0,s.jsx)(n.th,{children:"Visual Geometry"}),(0,s.jsx)(n.th,{children:"Collision Geometry"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Purpose"})}),(0,s.jsx)(n.td,{children:"Rendering in rviz2/simulators"}),(0,s.jsx)(n.td,{children:"Physics simulation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Complexity"})}),(0,s.jsx)(n.td,{children:"Can be very detailed (high-poly meshes)"}),(0,s.jsx)(n.td,{children:"Should be simple"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Performance"})}),(0,s.jsx)(n.td,{children:"Only affects graphics"}),(0,s.jsx)(n.td,{children:"Affects simulation speed"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Example"})}),(0,s.jsx)(n.td,{children:"Detailed hand mesh (10,000 triangles)"}),(0,s.jsx)(n.td,{children:"Simple box or capsule"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best practice:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="robot_hand">\n  \x3c!-- Visual: detailed mesh for realistic appearance --\x3e\n  <visual>\n    <geometry>\n      <mesh filename="package://my_robot/meshes/hand_detailed.dae"/>\n    </geometry>\n  </visual>\n\n  \x3c!-- Collision: simplified primitive for fast physics --\x3e\n  <collision>\n    <geometry>\n      <box size="0.15 0.08 0.05"/>  \x3c!-- approximate hand as a box --\x3e\n    </geometry>\n  </collision>\n</link>\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Why?"})," Physics engines (Gazebo, Isaac Sim) need to check for collisions thousands of times per second. Simple primitives (boxes, cylinders, spheres) are ",(0,s.jsx)(n.strong,{children:"10-100x faster"})," than complex meshes."]}),"\n",(0,s.jsx)(n.h2,{id:"materials-colors-and-textures",children:"Materials: Colors and Textures"}),"\n",(0,s.jsx)(n.h3,{id:"inline-material-definition",children:"Inline Material Definition"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<material name="red">\n  <color rgba="1 0 0 1"/>  \x3c!-- R G B Alpha (0.0-1.0) --\x3e\n</material>\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"RGBA values:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'r="1" g="0" b="0"'})," = pure red"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'r="0" g="1" b="0"'})," = pure green"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'r="0" g="0" b="1"'})," = pure blue"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'r="1" g="1" b="1"'})," = white"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'r="0" g="0" b="0"'})," = black"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'a="1.0"'})," = fully opaque, ",(0,s.jsx)(n.code,{children:'a="0.5"'})," = semi-transparent"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"texture-mapping",children:"Texture Mapping"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<material name="carbon_fiber">\n  <texture filename="package://my_robot/textures/carbon.png"/>\n</material>\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," Textures work in Gazebo but may not render in rviz2 (use colors for rviz2)."]}),"\n",(0,s.jsx)(n.h3,{id:"reusing-materials",children:"Reusing Materials"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<robot name="my_robot">\n\n  \x3c!-- Define material once --\x3e\n  <material name="blue">\n    <color rgba="0 0 1 1"/>\n  </material>\n\n  <link name="link1">\n    <visual>\n      <geometry><box size="0.1 0.1 0.1"/></geometry>\n      <material name="blue"/>  \x3c!-- reference by name --\x3e\n    </visual>\n  </link>\n\n  <link name="link2">\n    <visual>\n      <geometry><box size="0.2 0.2 0.2"/></geometry>\n      <material name="blue"/>  \x3c!-- same material --\x3e\n    </visual>\n  </link>\n\n</robot>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"joints-connecting-links",children:"Joints: Connecting Links"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"joint"}),' defines how two links move relative to each other. Joints are the "hinges" and "sliders" of your robot.']}),"\n",(0,s.jsx)(n.h3,{id:"joint-anatomy",children:"Joint Anatomy"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<joint name="shoulder" type="revolute">\n\n  \x3c!-- Parent and child links --\x3e\n  <parent link="torso"/>\n  <child link="upper_arm"/>\n\n  \x3c!-- Where the joint is located (relative to parent frame) --\x3e\n  <origin xyz="0 0.15 0.4" rpy="0 0 0"/>\n\n  \x3c!-- Rotation axis (which direction the joint rotates around) --\x3e\n  <axis xyz="0 1 0"/>  \x3c!-- y-axis = pitch rotation --\x3e\n\n  \x3c!-- Joint limits --\x3e\n  <limit lower="-1.57" upper="1.57" effort="100" velocity="2.0"/>\n  \x3c!--   -90\ufffd to +90\ufffd, 100 Nm torque, 2 rad/s max speed --\x3e\n\n  \x3c!-- Damping and friction (optional) --\x3e\n  <dynamics damping="0.5" friction="0.1"/>\n\n</joint>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"joint-types",children:"Joint Types"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Use Case"}),(0,s.jsx)(n.th,{children:"Has Limits?"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"revolute"})}),(0,s.jsx)(n.td,{children:"Hinge joint (rotation)"}),(0,s.jsx)(n.td,{children:"Elbows, knees, fingers"}),(0,s.jsx)(n.td,{children:"Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"continuous"})}),(0,s.jsx)(n.td,{children:"Unlimited rotation"}),(0,s.jsx)(n.td,{children:"Wheels"}),(0,s.jsx)(n.td,{children:"No"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"prismatic"})}),(0,s.jsx)(n.td,{children:"Sliding joint"}),(0,s.jsx)(n.td,{children:"Telescoping arms, elevators"}),(0,s.jsx)(n.td,{children:"Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"fixed"})}),(0,s.jsx)(n.td,{children:"No movement"}),(0,s.jsx)(n.td,{children:"Camera mounts, sensors"}),(0,s.jsx)(n.td,{children:"N/A"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"planar"})}),(0,s.jsx)(n.td,{children:"Moves in a plane"}),(0,s.jsx)(n.td,{children:"Not commonly used"}),(0,s.jsx)(n.td,{children:"No"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"floating"})}),(0,s.jsx)(n.td,{children:"Moves freely in 3D"}),(0,s.jsx)(n.td,{children:"Not commonly used"}),(0,s.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Most common:"})," ",(0,s.jsx)(n.code,{children:"revolute"})," (90% of humanoid joints) and ",(0,s.jsx)(n.code,{children:"fixed"})," (sensors)."]}),"\n",(0,s.jsxs)(n.h3,{id:"understanding-origin-transform",children:["Understanding ",(0,s.jsx)(n.code,{children:"<origin>"})," Transform"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"<origin>"})," tag answers two questions:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"xyz"}),": Where is the joint? (position offset from parent link frame)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"rpy"}),": What orientation is the joint? (roll-pitch-yaw angles)"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<origin xyz="x y z" rpy="roll pitch yaw"/>\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Coordinate system:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"x"}),": Forward (red axis)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"y"}),": Left (green axis)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"z"}),": Up (blue axis)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"rpy (roll-pitch-yaw):"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"roll"}),": Rotation around x-axis (in radians)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"pitch"}),": Rotation around y-axis"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"yaw"}),": Rotation around z-axis"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," Elbow joint 30cm down the arm"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<joint name="elbow" type="revolute">\n  <parent link="upper_arm"/>\n  <child link="forearm"/>\n  <origin xyz="0 0 -0.3" rpy="0 0 0"/>  \x3c!-- 30cm down (negative z) --\x3e\n  <axis xyz="0 1 0"/>  \x3c!-- rotate around y-axis (pitch) --\x3e\n  <limit lower="0" upper="2.5" effort="50" velocity="2"/>  \x3c!-- 0 to ~143\ufffd --\x3e\n</joint>\n'})}),"\n",(0,s.jsxs)(n.h3,{id:"understanding-axis",children:["Understanding ",(0,s.jsx)(n.code,{children:"<axis>"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"<axis>"})," tag specifies which direction the joint rotates around (for ",(0,s.jsx)(n.code,{children:"revolute"}),") or slides along (for ",(0,s.jsx)(n.code,{children:"prismatic"}),")."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Common axis directions:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Axis"}),(0,s.jsx)(n.th,{children:"Vector"}),(0,s.jsx)(n.th,{children:"Rotation Type"}),(0,s.jsx)(n.th,{children:"Example"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'xyz="1 0 0"'})}),(0,s.jsx)(n.td,{children:"x-axis"}),(0,s.jsx)(n.td,{children:"Roll"}),(0,s.jsx)(n.td,{children:"Wrist twist"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'xyz="0 1 0"'})}),(0,s.jsx)(n.td,{children:"y-axis"}),(0,s.jsx)(n.td,{children:"Pitch"}),(0,s.jsx)(n.td,{children:"Elbow, knee"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'xyz="0 0 1"'})}),(0,s.jsx)(n.td,{children:"z-axis"}),(0,s.jsx)(n.td,{children:"Yaw"}),(0,s.jsx)(n.td,{children:"Neck turning"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Visualization:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"        z (up)\n        |\n        |\n        o------ y (left)\n       /\n      /\n     x (forward)\n"})}),"\n",(0,s.jsx)(n.p,{children:"For a humanoid standing upright:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Knee"}),": bends around y-axis (pitch)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hip yaw"}),": rotates around z-axis (yaw)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Wrist"}),": twists around x-axis (roll)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"building-a-2-link-robot-arm",children:"Building a 2-Link Robot Arm"}),"\n",(0,s.jsx)(n.p,{children:"Let's combine everything we've learned to build a simple robot arm."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_arm">\n\n  \x3c!-- Base (fixed to the world) --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n      <material name="gray">\n        <color rgba="0.5 0.5 0.5 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.002"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Upper arm segment --\x3e\n  <link name="upper_arm">\n    <visual>\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>  \x3c!-- center of 30cm cylinder --\x3e\n      <geometry>\n        <cylinder radius="0.03" length="0.3"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0.5 1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.03" length="0.3"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\n      <mass value="0.5"/>\n      <inertia ixx="0.004" ixy="0" ixz="0" iyy="0.004" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Shoulder joint (connects base to upper arm) --\x3e\n  <joint name="shoulder" type="revolute">\n    <parent link="base_link"/>\n    <child link="upper_arm"/>\n    <origin xyz="0 0 0.025" rpy="0 0 0"/>  \x3c!-- top of base cylinder --\x3e\n    <axis xyz="0 1 0"/>  \x3c!-- pitch rotation --\x3e\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1.0"/>\n    <dynamics damping="0.5"/>\n  </joint>\n\n  \x3c!-- Forearm segment --\x3e\n  <link name="forearm">\n    <visual>\n      <origin xyz="0 0 0.125" rpy="0 0 0"/>  \x3c!-- center of 25cm cylinder --\x3e\n      <geometry>\n        <cylinder radius="0.025" length="0.25"/>\n      </geometry>\n      <material name="green">\n        <color rgba="0 1 0.5 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.125" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.025" length="0.25"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0 0 0.125" rpy="0 0 0"/>\n      <mass value="0.3"/>\n      <inertia ixx="0.002" ixy="0" ixz="0" iyy="0.002" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Elbow joint (connects upper arm to forearm) --\x3e\n  <joint name="elbow" type="revolute">\n    <parent link="upper_arm"/>\n    <child link="forearm"/>\n    <origin xyz="0 0 0.3" rpy="0 0 0"/>  \x3c!-- top of upper arm --\x3e\n    <axis xyz="0 1 0"/>  \x3c!-- pitch rotation --\x3e\n    <limit lower="0" upper="2.5" effort="5" velocity="1.0"/>  \x3c!-- 0 to ~143\ufffd --\x3e\n    <dynamics damping="0.3"/>\n  </joint>\n\n</robot>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"kinematic-chain",children:"Kinematic Chain"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"base_link\n    |\n    | (shoulder joint)\n    |\nupper_arm\n    |\n    | (elbow joint)\n    |\nforearm\n"})}),"\n",(0,s.jsx)(n.h3,{id:"visualize-and-test",children:"Visualize and Test"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Save as simple_arm.urdf, then:\nros2 launch urdf_tutorial display.launch.py model:=simple_arm.urdf\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What you'll see:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Gray cylinder base"}),"\n",(0,s.jsx)(n.li,{children:"Blue upper arm"}),"\n",(0,s.jsx)(n.li,{children:"Green forearm"}),"\n",(0,s.jsx)(n.li,{children:"GUI sliders to control shoulder and elbow angles"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"coordinate-transforms-in-depth",children:"Coordinate Transforms in Depth"}),"\n",(0,s.jsx)(n.h3,{id:"link-frames",children:"Link Frames"}),"\n",(0,s.jsxs)(n.p,{children:["Every link has its own ",(0,s.jsx)(n.strong,{children:"coordinate frame"})," located at the link's origin (where the joint attaches)."]}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[parent link frame] --\x3e|origin xyz rpy| B[joint frame]\n    B --\x3e|child link frame| C[child link]\n\n    style A fill:#d4edda\n    style B fill:#fff3cd\n    style C fill:#cce5ff"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Transform chain:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Start at parent link frame"}),"\n",(0,s.jsxs)(n.li,{children:["Apply joint's ",(0,s.jsx)(n.code,{children:"<origin xyz rpy>"})," to get joint frame"]}),"\n",(0,s.jsx)(n.li,{children:"Child link frame = joint frame"}),"\n",(0,s.jsx)(n.li,{children:"Repeat for next joint"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"example-computing-end-effector-position",children:"Example: Computing End-Effector Position"}),"\n",(0,s.jsx)(n.p,{children:"Given our 2-link arm:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"base_link (0, 0, 0)\n    | shoulder at (0, 0, 0.025)\nupper_arm frame = (0, 0, 0.025)\n    | elbow at (0, 0, 0.3) relative to upper_arm\nforearm frame = (0, 0, 0.325) in world\n\nForearm tip = (0, 0, 0.325 + 0.25) = (0, 0, 0.575) in world\n"})}),"\n",(0,s.jsxs)(n.p,{children:["When ",(0,s.jsx)(n.code,{children:"shoulder = 45\ufffd"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Upper arm rotates 45\ufffd around y-axis"}),"\n",(0,s.jsx)(n.li,{children:"End-effector position changes based on forward kinematics"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"TF tree"})," (more in Section 3) shows these transforms in real-time."]}),"\n",(0,s.jsx)(n.h2,{id:"calculating-inertia-tensors",children:"Calculating Inertia Tensors"}),"\n",(0,s.jsx)(n.p,{children:"For simulation, you need inertia values. Here are formulas for common shapes:"}),"\n",(0,s.jsx)(n.h3,{id:"box-width-w-depth-d-height-h-mass-m",children:"Box (width w, depth d, height h, mass m)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Ixx = (1/12) * m * (d\ufffd + h\ufffd)\nIyy = (1/12) * m * (w\ufffd + h\ufffd)\nIzz = (1/12) * m * (w\ufffd + d\ufffd)\nIxy = Ixz = Iyz = 0  (for symmetric boxes)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"cylinder-radius-r-height-h-mass-m",children:"Cylinder (radius r, height h, mass m)"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Z-axis along cylinder length:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Ixx = Iyy = (1/12) * m * (3*r\ufffd + h\ufffd)\nIzz = (1/2) * m * r\ufffd\nIxy = Ixz = Iyz = 0\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sphere-radius-r-mass-m",children:"Sphere (radius r, mass m)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Ixx = Iyy = Izz = (2/5) * m * r\ufffd\nIxy = Ixz = Iyz = 0\n"})}),"\n",(0,s.jsx)(n.h3,{id:"online-calculator",children:"Online Calculator"}),"\n",(0,s.jsxs)(n.p,{children:["For complex shapes, use: ",(0,s.jsx)(n.a,{href:"https://amesweb.info/inertia/mass-moment-of-inertia-calculator.aspx",children:"https://amesweb.info/inertia/mass-moment-of-inertia-calculator.aspx"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Tip:"})," Incorrect inertia can cause simulation instability. Start with approximate values, tune if robot behaves strangely (e.g., explodes, vibrates)."]}),"\n",(0,s.jsx)(n.h2,{id:"common-urdf-patterns",children:"Common URDF Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"pattern-1-dummy-links-for-complex-joints",children:"Pattern 1: Dummy Links for Complex Joints"}),"\n",(0,s.jsx)(n.p,{children:"Sometimes you need a joint that rotates around multiple axes. URDF doesn't support multi-DOF joints directly, so use dummy links:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Hip joint with yaw + pitch (2 DOF) --\x3e\n\n\x3c!-- Dummy link (zero mass) --\x3e\n<link name="hip_yaw_link">\n  <inertial>\n    <mass value="0.001"/>  \x3c!-- near-zero mass --\x3e\n    <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n  </inertial>\n</link>\n\n\x3c!-- Yaw joint --\x3e\n<joint name="hip_yaw" type="revolute">\n  <parent link="pelvis"/>\n  <child link="hip_yaw_link"/>\n  <axis xyz="0 0 1"/>  \x3c!-- yaw --\x3e\n  ...\n</joint>\n\n\x3c!-- Pitch joint --\x3e\n<joint name="hip_pitch" type="revolute">\n  <parent link="hip_yaw_link"/>\n  <child link="thigh"/>\n  <axis xyz="0 1 0"/>  \x3c!-- pitch --\x3e\n  ...\n</joint>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"pattern-2-fixed-sensors",children:"Pattern 2: Fixed Sensors"}),"\n",(0,s.jsxs)(n.p,{children:["Cameras and sensors don't move, so use ",(0,s.jsx)(n.code,{children:"fixed"})," joints:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="camera_link">\n  <visual>\n    <geometry><box size="0.05 0.02 0.02"/></geometry>\n    <material name="black"><color rgba="0 0 0 1"/></material>\n  </visual>\n</link>\n\n<joint name="camera_mount" type="fixed">\n  <parent link="head"/>\n  <child link="camera_link"/>\n  <origin xyz="0.08 0 0.05" rpy="0 0 0"/>  \x3c!-- front of head --\x3e\n</joint>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"pattern-3-mirrored-limbs",children:"Pattern 3: Mirrored Limbs"}),"\n",(0,s.jsx)(n.p,{children:"For bilateral symmetry (left/right arms or legs), define one side then mirror:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Left arm --\x3e\n<link name="left_upper_arm">...</link>\n<joint name="left_shoulder" type="revolute">\n  <parent link="torso"/>\n  <child link="left_upper_arm"/>\n  <origin xyz="0 0.2 0.4" rpy="0 0 0"/>  \x3c!-- +y = left --\x3e\n  <axis xyz="0 1 0"/>\n  ...\n</joint>\n\n\x3c!-- Right arm (mirrored) --\x3e\n<link name="right_upper_arm">...</link>\n<joint name="right_shoulder" type="revolute">\n  <parent link="torso"/>\n  <child link="right_upper_arm"/>\n  <origin xyz="0 -0.2 0.4" rpy="0 0 0"/>  \x3c!-- -y = right --\x3e\n  <axis xyz="0 1 0"/>  \x3c!-- same axis --\x3e\n  ...\n</joint>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting-urdf-errors",children:"Troubleshooting URDF Errors"}),"\n",(0,s.jsx)(n.h3,{id:"error-1-failed-to-parse-urdf-file",children:'Error 1: "Failed to parse URDF file"'}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Cause:"})," XML syntax error (unclosed tag, typo, etc.)"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Fix:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"check_urdf my_robot.urdf\n# Points to exact line number of error\n"})}),"\n",(0,s.jsx)(n.h3,{id:"error-2-joint-parentchild-link-does-not-exist",children:'Error 2: "Joint parent/child link does not exist"'}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Cause:"})," Typo in link name, or link defined after joint"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix:"})," Ensure all links are defined, check spelling"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'\x3c!-- WRONG --\x3e\n<joint name="j1" type="revolute">\n  <parent link="base_link"/>\n  <child link="link1"/>  \x3c!-- link1 not defined yet! --\x3e\n</joint>\n\n\x3c!-- CORRECT --\x3e\n<link name="link1">...</link>\n<joint name="j1" type="revolute">\n  <parent link="base_link"/>\n  <child link="link1"/>  \x3c!-- link1 exists --\x3e\n</joint>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"error-3-tree-structure-is-broken",children:'Error 3: "Tree structure is broken"'}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Cause:"})," Cycle in link-joint graph, or multiple root links"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix:"})," URDF must be a ",(0,s.jsx)(n.strong,{children:"tree"})," (one root, no cycles)"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"urdf_to_graphviz my_robot.urdf\n# Generates PDF showing link-joint tree\n"})}),"\n",(0,s.jsx)(n.h3,{id:"error-4-robot-explodes-in-simulation",children:"Error 4: Robot explodes in simulation"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Cause:"})," Incorrect inertia values or colliding links at startup"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Fix:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Recalculate inertia using formulas above"}),"\n",(0,s.jsx)(n.li,{children:"Check for overlapping collision geometries in initial pose"}),"\n",(0,s.jsxs)(n.li,{children:["Add damping to joints: ",(0,s.jsx)(n.code,{children:'<dynamics damping="1.0"/>'})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"validation-workflow",children:"Validation Workflow"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Before moving to simulation:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Validate XML"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"check_urdf my_robot.urdf\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Visualize structure"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"urdf_to_graphviz my_robot.urdf\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Test in rviz2"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 launch urdf_tutorial display.launch.py model:=my_robot.urdf\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Check TF tree"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 run tf2_tools view_frames\nevince frames.pdf\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Test joint limits"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use GUI sliders to move each joint through full range"}),"\n",(0,s.jsx)(n.li,{children:"Check for self-collisions"}),"\n",(0,s.jsx)(n.li,{children:"Verify movement matches expectations"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"exercises",children:"Exercises"}),"\n",(0,s.jsx)(n.h3,{id:"exercise-1-build-a-3-link-arm",children:"Exercise 1: Build a 3-Link Arm"}),"\n",(0,s.jsx)(n.p,{children:"Extend the 2-link arm to add a wrist joint:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Add ",(0,s.jsx)(n.code,{children:"wrist"})," link (15cm long, radius 0.02m)"]}),"\n",(0,s.jsxs)(n.li,{children:["Add ",(0,s.jsx)(n.code,{children:"wrist_pitch"})," joint connecting forearm to wrist"]}),"\n",(0,s.jsx)(n.li,{children:"Joint limits: -1.57 to 1.57 rad"}),"\n",(0,s.jsx)(n.li,{children:"Visualize in rviz2"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"exercise-2-add-a-gripper",children:"Exercise 2: Add a Gripper"}),"\n",(0,s.jsx)(n.p,{children:"Add a simple 2-finger gripper to the wrist:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Two prismatic joints (sliding fingers)"}),"\n",(0,s.jsx)(n.li,{children:"Each finger is a small box (0.08 \ufffd 0.02 \ufffd 0.01 m)"}),"\n",(0,s.jsx)(n.li,{children:"Slide range: 0 to 0.05 m (5cm)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"exercise-3-calculate-inertia",children:"Exercise 3: Calculate Inertia"}),"\n",(0,s.jsx)(n.p,{children:"Calculate exact inertia tensor for a cylinder with:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Radius: 0.04 m"}),"\n",(0,s.jsx)(n.li,{children:"Height: 0.25 m"}),"\n",(0,s.jsx)(n.li,{children:"Mass: 1.5 kg"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Verify with online calculator."}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key concepts:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"URDF uses XML to describe robot kinematics and dynamics"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Links"})," = rigid bodies with visual, collision, and inertial properties"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Joints"})," = connections that define how links move"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"origin xyz rpy"})," = position and orientation transforms"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"axis xyz"})," = rotation/sliding direction for joints"]}),"\n",(0,s.jsx)(n.li,{children:"Visual geometry can be detailed, collision should be simple"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Next steps:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["In ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"./humanoid-modeling",children:"Section 2: Humanoid Modeling"})}),", we'll build a complete 15-link humanoid robot from scratch"]}),"\n",(0,s.jsx)(n.li,{children:"You'll learn symmetry patterns, mass distribution, and realistic joint limits"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"URDF XML Specification"}),": ",(0,s.jsx)(n.a,{href:"http://wiki.ros.org/urdf/XML",children:"http://wiki.ros.org/urdf/XML"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"URDF Tutorial (ROS 2)"}),": ",(0,s.jsx)(n.a,{href:"https://docs.ros.org/en/jazzy/Tutorials/Intermediate/URDF/URDF-Main.html",children:"https://docs.ros.org/en/jazzy/Tutorials/Intermediate/URDF/URDF-Main.html"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Inertia Calculator"}),": ",(0,s.jsx)(n.a,{href:"https://amesweb.info/inertia/mass-moment-of-inertia-calculator.aspx",children:"https://amesweb.info/inertia/mass-moment-of-inertia-calculator.aspx"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Onshape to URDF"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/Rhoban/onshape-to-robot",children:"https://github.com/Rhoban/onshape-to-robot"})," (CAD to URDF converter)"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var r=i(6540);const s={},l=r.createContext(s);function t(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);